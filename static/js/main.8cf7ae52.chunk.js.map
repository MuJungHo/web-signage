{"version":3,"sources":["components/Anchor.js","components/Guide.js","components/layers/Text.js","components/layers/Time.js","medias.js","components/Layer.js","components/Board.js","components/ActionBar.js","components/ToolBar.js","components/MediaLibrary.js","components/ColorPicker.js","components/properties/Basic.js","components/properties/Text.js","components/properties/Time.js","components/ControlPanel.js","components/player/Text.js","components/player/Time.js","components/Player.js","components/Header.js","Editor.js","App.js","index.js"],"names":["cx","cy","board","position","offset","layer","React","useState","isMoving","setMoving","endDrag","current","removeEventListener","drag","e","x","offsetX","y","offsetY","onMouseDown","stopPropagation","addEventListener","r","stroke","fill","x1","y1","x2","y2","show","style","strokeWidth","editing","setEditing","finish","data","value","innerText","setInnerText","useEffect","document","getElementById","id","focus","left","top","width","height","userSelect","wordWrap","color","fontColor","undefined","backgroundColor","fontSize","onDoubleClick","contentEditable","suppressContentEditableWarning","tabIndex","onInput","currentTarget","onBlur","isActivated","moment","format","clock","setClock","timeout","setInterval","clearInterval","display","alignItems","justifyContent","media","type","images","videos","1","name","size","2","3","4","setLayers","layers","activeLayerID","setActiveLayerID","start","setStart","tops","filter","l","map","bottoms","lefts","rights","layerXs","concat","layerYs","JSON","stringify","handleUpdateLayer","updatedLayer","startDrag","clientX","clientY","newLeft","newTop","newRight","newBottom","window","innerWidth","innerHeight","some","layerY","Math","abs","find","layerX","isGuideShow","onFocus","outline","includes","xlinkHref","onClick","baseOnWidth","originMediaWidth","originMediaHeight","layerWidth","layerHeight","updatedLayers","handleMediaSizeFitting","trim","length","Text","Time","Anchor","Guide","boardRef","useRef","xmlns","version","ref","background","imageId","preserveAspectRatio","key","activeLayer","IconButton","component","disabled","float","unix","props","addLayer","buttonStyle","padding","iconStyle","flexDirection","Button","variant","isDialogOpen","setDialogOpen","close","confirm","selected","setSelected","card","maxHeight","margin","Dialog","open","onClose","fullWidth","maxWidth","DialogTitle","Divider","DialogContent","marginTop","flexWrap","border","alt","src","title","DialogActions","marginLeft","onChange","TextField","InputProps","inputProps","InputLabelProps","shrink","onChangeComplete","label","Basic","marginBottom","multiline","target","minRows","marginRight","ColorPicker","hex","FormControl","Select","displayEmpty","MenuItem","BasicProperties","ImageProperties","MediaLibrary","insertImageFromLibrary","VideoProperties","insertVideoFromLibrary","BoardProperties","setBoard","floor","RadioGroup","row","aria-label","FormControlLabel","control","Radio","overflow","VideoLayer","autoPlay","ImageLayer","Layer","fullScreen","href","flex","Player","Header","ToolBar","ActionBar","Board","ControlPanel","App","Editor","render"],"mappings":"+OAEe,cAAiD,IAA9CA,EAA6C,EAA7CA,GAAIC,EAAyC,EAAzCA,GAAIC,EAAqC,EAArCA,MAAOC,EAA8B,EAA9BA,SAAiBC,GAAa,EAApBC,MAAoB,EAAbD,QAAa,EAC/BE,IAAMC,UAAS,GADgB,mBACtDC,EADsD,KAC5CC,EAD4C,KAQvDC,EAAU,WACdR,EAAMS,QAAQC,oBAAoB,YAAaC,GAC3CL,GAAUC,GAAU,IAEpBI,EAAO,SAAAC,GACXV,EAAO,CAAED,WAAUY,EAAGD,EAAEE,QAAUhB,EAAIiB,EAAGH,EAAEI,QAAUjB,KAEvD,OACE,4BACEkB,YAfc,SAAAL,GAChBA,EAAEM,kBACFX,GAAU,GACVP,EAAMS,QAAQU,iBAAiB,YAAaR,GAC5CX,EAAMS,QAAQU,iBAAiB,UAAWX,IAYxCV,GAAIA,EACJC,GAAIA,EACJqB,EAAE,IACFC,OAAO,UACPC,KAAK,aCvBI,cAA+B,IAA5BC,EAA2B,EAA3BA,GAAIC,EAAuB,EAAvBA,GAAIC,EAAmB,EAAnBA,GAAIC,EAAe,EAAfA,GAAIC,EAAW,EAAXA,KAChC,OACE,0BAAMJ,GAAIA,EAAIC,GAAIA,EAAIC,GAAIA,EAAIC,GAAIA,EAAIE,MAAO,CAAEP,OAAQ,UAAWQ,YAAaF,EAAO,EAAI,MCF/E,cAA6C,IAA1CxB,EAAyC,EAAzCA,MAAO2B,EAAkC,EAAlCA,QAASC,EAAyB,EAAzBA,WAAYC,EAAa,EAAbA,OAAa,EACvB5B,IAAMC,SAASF,EAAM8B,KAAKC,OAAS,IADZ,mBAClDC,EADkD,KACvCC,EADuC,KAMzD,OAHAhC,IAAMiC,WAAU,WACVC,SAASC,eAAT,eAAgCpC,EAAMqC,MAAOF,SAASC,eAAT,eAAgCpC,EAAMqC,KAAMC,UAC5F,IAED,mCACE5B,EAAGV,EAAMuC,KACT3B,EAAGZ,EAAMwC,IACTC,MAAOzC,EAAMyC,MACbC,OAAQ1C,EAAM0C,QAEd,yBACEjB,MAAO,CACLgB,MAAO,OACPC,OAAQ,OACRC,WAAY,OACZC,SAAU,aACVC,MAAO7C,EAAM8B,KAAKgB,UAAY9C,EAAM8B,KAAKgB,eAAYC,EACrDC,gBAAiBhD,EAAM8B,KAAKkB,gBAAkBhD,EAAM8B,KAAKkB,qBAAkBD,EAC3EE,SAAUjD,EAAM8B,KAAKmB,SAAWjD,EAAM8B,KAAKmB,SAAW,UAAOF,GAE/DG,cAAe,kBAAMtB,GAAW,KAG9BD,EAEE,yBACEU,GAAE,eAAUrC,EAAMqC,IAClBc,iBAAe,EACfC,gCAA8B,EAC9BC,SAAS,KACTC,QAAS,SAAA7C,GAAC,OAAIwB,EAAaxB,EAAE8C,cAAcvB,YAC3CwB,OAAQ,WACN5B,GAAW,GACW,oBAAXC,GAAuBA,EAAOG,IAE3CP,MAAO,CACLgB,MAAOzC,EAAMyC,MACbC,OAAQ1C,EAAM0C,SAEf1C,EAAM8B,KAAKC,OAGd/B,EAAM8B,KAAKC,S,iBC5CR,cAA6B,IAA1B/B,EAAyB,EAAzBA,MAAOyD,EAAkB,EAAlBA,YAAkB,EACfxD,IAAMC,SAASwD,MAASC,OAAO3D,EAAM8B,KAAKC,QAD3B,mBAClC6B,EADkC,KAC3BC,EAD2B,KAUzC,OARA5D,IAAMiC,WAAU,WACd,IAAI4B,EAAU,KAKd,OAJIL,IACFI,EAASH,MAASC,OAAO3D,EAAM8B,KAAKC,QACpC+B,EAAUC,aAAY,kBAAMF,EAASH,MAASC,OAAO3D,EAAM8B,KAAKC,UAAS,MAEpE,kBAAMiC,cAAcF,MAC1B,CAACL,EAAazD,IAEf,mCACEU,EAAGV,EAAMuC,KACT3B,EAAGZ,EAAMwC,IACTC,MAAOzC,EAAMyC,MACbC,OAAQ1C,EAAM0C,QAEd,yBAAKjB,MAAO,CACVgB,MAAO,OACPC,OAAQ,OACRuB,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBtB,MAAO7C,EAAM8B,KAAKgB,UAAY9C,EAAM8B,KAAKgB,eAAYC,EACrDC,gBAAiBhD,EAAM8B,KAAKkB,gBAAkBhD,EAAM8B,KAAKkB,qBAAkBD,EAC3EE,SAAUjD,EAAM8B,KAAKmB,SAAWjD,EAAM8B,KAAKmB,SAAW,UAAOF,IAE5Da,KC7BIQ,EAAQ,SAACC,EAAMhC,GAAP,MAAe,CAClC,MAASiC,EAAOjC,GAChB,MAASkC,EAAOlC,IAChBgC,IACIC,EAAS,CACbE,EAAG,CACDC,KAAM,qBACNC,KAAM,SACNL,KAAM,MACN5B,MAAO,IACPC,OAAQ,KAEViC,EAAG,CACDF,KAAM,YACNC,KAAM,SACNL,KAAM,MACN5B,MAAO,IACPC,OAAQ,KAEVkC,EAAG,CACDH,KAAM,eACNC,KAAM,SACNL,KAAM,MACN5B,MAAO,IACPC,OAAQ,KAEVmC,EAAG,CACDJ,KAAM,qBACNC,KAAM,OACNL,KAAM,MACN5B,MAAO,IACPC,OAAQ,MAGN6B,EAAS,CACbC,EAAG,CACDC,KAAM,eACNC,KAAM,SACNL,KAAM,MACN5B,MAAO,IACPC,OAAQ,KAEViC,EAAG,CACDF,KAAM,iCACNC,KAAM,SACNL,KAAM,MACN5B,MAAO,IACPC,OAAQ,KAEVkC,EAAG,CACDH,KAAM,eACNC,KAAM,SACNL,KAAM,MACN5B,MAAO,IACPC,OAAQ,KAEVmC,EAAG,CACDJ,KAAM,eACNC,KAAM,QACNL,KAAM,MACN5B,MAAO,IACPC,OAAQ,MCvDG,cAOR,IANL1C,EAMI,EANJA,MACAH,EAKI,EALJA,MACAiF,EAII,EAJJA,UACAC,EAGI,EAHJA,OACAC,EAEI,EAFJA,cACAC,EACI,EADJA,iBACI,EACsBhF,IAAMC,SAAS,MADrC,mBACGgF,EADH,KACUC,EADV,OAE0BlF,IAAMC,UAAS,GAFzC,mBAEGyB,EAFH,KAEYC,EAFZ,KAGEwD,EAAOL,EAAOM,QAAO,SAAAC,GAAC,OAAIA,EAAEjD,KAAOrC,EAAMqC,MAAIkD,KAAI,SAAAD,GAAC,OAAIA,EAAE9C,OACxDgD,EAAUT,EAAOM,QAAO,SAAAC,GAAC,OAAIA,EAAEjD,KAAOrC,EAAMqC,MAAIkD,KAAI,SAAAD,GAAC,OAAIA,EAAE9C,IAAM8C,EAAE5C,UACnE+C,EAAQV,EAAOM,QAAO,SAAAC,GAAC,OAAIA,EAAEjD,KAAOrC,EAAMqC,MAAIkD,KAAI,SAAAD,GAAC,OAAIA,EAAE/C,QACzDmD,EAASX,EAAOM,QAAO,SAAAC,GAAC,OAAIA,EAAEjD,KAAOrC,EAAMqC,MAAIkD,KAAI,SAAAD,GAAC,OAAIA,EAAE/C,KAAO+C,EAAE7C,SACnEkD,EAAUP,EAAKQ,OAAOJ,GACtBK,EAAUJ,EAAMG,OAAOF,GAE7BzF,IAAMiC,WAAU,WACV4D,KAAKC,UAAUb,KAAWY,KAAKC,UAAU,KAAiB,OAAVb,IAClDrF,EAAMS,QAAQU,iBAAiB,YAAaR,GAC5CX,EAAMS,QAAQU,iBAAiB,UAAWX,MAE3C,CAAC6E,IACJ,IAAMc,EAAoB,SAAAC,GACxBnB,EAAUC,EAAOQ,KAAI,SAAAvF,GACnB,OAAIA,EAAMqC,KAAO4D,EAAa5D,GAAW,eAAK4D,GACzC,eAAYjG,QAGfD,EAAS,SAAC,GAAwB,IAAtBD,EAAqB,EAArBA,SAAUY,EAAW,EAAXA,EAAGE,EAAQ,EAARA,EACZ,aAAbd,GACFkG,EAAkB,2BACbhG,GADY,IAEfuC,KAAMvC,EAAMuC,KAAO7B,EACnB8B,IAAKxC,EAAMwC,IAAM5B,EACjB6B,MAAOzC,EAAMyC,MAAQ/B,EACrBgC,OAAQ1C,EAAM0C,OAAS9B,KAEV,cAAbd,GACFkG,EAAkB,2BACbhG,GADY,IAEfwC,IAAKxC,EAAMwC,IAAM5B,EACjB6B,MAAOzC,EAAMyC,MAAQ/B,EACrBgC,OAAQ1C,EAAM0C,OAAS9B,KAEV,gBAAbd,GACFkG,EAAkB,2BACbhG,GADY,IAEfuC,KAAMvC,EAAMuC,KAAO7B,EACnB+B,MAAOzC,EAAMyC,MAAQ/B,EACrBgC,OAAQ1C,EAAM0C,OAAS9B,KAEV,iBAAbd,GACFkG,EAAkB,2BACbhG,GADY,IAEfyC,MAAOzC,EAAMyC,MAAQ/B,EACrBgC,OAAQ1C,EAAM0C,OAAS9B,MAGvBsF,EAAY,SAAAzF,GAChB0E,EAAS,CAAE5C,KAAM9B,EAAE0F,QAAS3D,IAAK/B,EAAE2F,WAE/B/F,EAAU,WACd8E,EAAS,IACTtF,EAAMS,QAAQC,oBAAoB,YAAaC,IAE3CA,EAAO,SAAAC,GACX,IAAI4F,EAAUrG,EAAMuC,KAAO9B,EAAEC,EAAIwE,EAAM3C,KACnC+D,EAAStG,EAAMwC,IAAM/B,EAAEG,EAAIsE,EAAM1C,IACjC+D,EAAWvG,EAAMuC,KAAO9B,EAAEC,EAAIwE,EAAM3C,KAAOvC,EAAMyC,MACjD+D,EAAYxG,EAAMwC,IAAM/B,EAAEG,EAAIsE,EAAM1C,IAAMxC,EAAM0C,OAChD2D,EAAU,IAAGA,EAAU,GACvBC,EAAS,IAAGA,EAAS,GACrBC,EAAWE,OAAOC,WAAa,MAAKL,EAAUI,OAAOC,WAAa,IAAM1G,EAAMyC,OAC9E+D,EAAYC,OAAOE,YAAc,MAAKL,EAASG,OAAOE,YAAc,IAAM3G,EAAM0C,QAChFmD,EAAQe,MAAK,SAAAC,GAAM,OAAIC,KAAKC,IAAIF,EAASR,GAAW,QACtDA,EAAUR,EAAQmB,MAAK,SAAAH,GAAM,OAAIC,KAAKC,IAAIF,EAASR,GAAW,OAE5DV,EAAQiB,MAAK,SAAAK,GAAM,OAAIH,KAAKC,IAAIE,EAASX,GAAU,QACrDA,EAASX,EAAQqB,MAAK,SAAAC,GAAM,OAAIH,KAAKC,IAAIE,EAASX,GAAU,OAE1DT,EAAQe,MAAK,SAAAC,GAAM,OAAIC,KAAKC,IAAIF,EAASN,GAAY,QACvDF,EAAUR,EAAQmB,MAAK,SAAAH,GAAM,OAAIC,KAAKC,IAAIF,EAASN,GAAY,MAAMvG,EAAMyC,OAEzEkD,EAAQiB,MAAK,SAAAK,GAAM,OAAIH,KAAKC,IAAIE,EAAST,GAAa,QACxDF,EAASX,EAAQqB,MAAK,SAAAC,GAAM,OAAIH,KAAKC,IAAIE,EAAST,GAAa,MAAMxG,EAAM0C,QAE7EsD,EAAkB,2BACbhG,GADY,IAEfuC,KAAM8D,EACN7D,IAAK8D,MAGHY,EAAc,SAACzC,GACnB,MAAa,QAATA,EACKkB,EAAQiB,MAAK,SAAAK,GAAM,OAAIH,KAAKC,IAAIE,EAASjH,EAAMwC,KAAO,MAElD,WAATiC,EACKkB,EAAQiB,MAAK,SAAAK,GAAM,OAAIH,KAAKC,IAAIE,EAASjH,EAAMwC,IAAMxC,EAAM0C,QAAU,MAEjE,SAAT+B,EACKoB,EAAQe,MAAK,SAAAC,GAAM,OAAIC,KAAKC,IAAIF,EAAS7G,EAAMuC,MAAQ,MAEnD,UAATkC,EACKoB,EAAQe,MAAK,SAAAC,GAAM,OAAIC,KAAKC,IAAIF,EAAS7G,EAAMuC,KAAOvC,EAAMyC,OAAS,WAD9E,GAqBF,OACE,uBACE0E,QAAS,kBAAMlC,EAAiBjF,EAAMqC,KAEtCZ,MAAO,CAAE2F,QAAS,QAClB/D,SAAS,KACTvC,YAAaoF,GAEb,0BACEzE,MAAO,CACLN,KAAM,cACND,OAAQlB,EAAMqC,KAAO2C,EAAgB,eAAYjC,EACjDrB,YAAa1B,EAAMqC,KAAO2C,EAAgB,EAAI,GAEhDtE,EAAGV,EAAMuC,KACT3B,EAAGZ,EAAMwC,IACTC,MAAOzC,EAAMyC,MACbC,OAAQ1C,EAAM0C,SAGd,CAAC,QAAS,SAAS2E,SAASrH,EAAM8B,KAAKuC,OACvC,2BACEiD,UAAW,CACT,MAAQ,mBAAR,OAA4BtH,EAAM8B,KAAKO,GAAvC,QACA,MAAQ,qBAAR,OAA8BrC,EAAM8B,KAAKO,GAAzC,SACArC,EAAM8B,KAAKuC,MACb3D,EAAGV,EAAMuC,KACT3B,EAAGZ,EAAMwC,IACTC,MAAOzC,EAAMyC,MACbC,OAAQ1C,EAAM0C,OACd5B,YAAaoF,IAIf,CAAC,QAAS,SAASmB,SAASrH,EAAM8B,KAAKuC,OACvCrE,EAAM8B,KAAKO,GAAK,GAChB,oCACE,2BACEiF,UAAW,CACT,MAAQ,wBACR,MAAQ,2BACRtH,EAAM8B,KAAKuC,MACb3D,EAAGV,EAAMuC,KAAO,GAChB3B,EAAGZ,EAAMwC,IAAM,GACfC,MAAO,GACPC,OAAQ,KAET1C,EAAMqC,KAAO2C,GAAiB,2BAC7BsC,UAAS,yBACT5G,EAAGV,EAAMuC,KAAOvC,EAAMyC,MAAQ,GAC9B7B,EAAGZ,EAAMwC,IAAMxC,EAAM0C,OAAS,GAC9BD,MAAO,GACPC,OAAQ,GACR6E,QAAS,kBAtEY,SAAAvH,GAC7B,IAAMwH,EAAcxH,EAAMyC,MAAQzC,EAAM0C,OAAS,EAC3C+E,EAAmBrD,EAAMpE,EAAM8B,KAAKuC,KAAMrE,EAAM8B,KAAKO,IAAII,MACzDiF,EAAoBtD,EAAMpE,EAAM8B,KAAKuC,KAAMrE,EAAM8B,KAAKO,IAAIK,OAC1DiF,EAAaH,EAAcxH,EAAMyC,MAAQgF,EAAmBzH,EAAM0C,OAASgF,EAC3EE,EAAcJ,EAAcE,EAAoB1H,EAAMyC,MAAQgF,EAAmBzH,EAAM0C,OACvFmF,EAAgB9C,EAAOQ,KAAI,SAAA3E,GAC/B,OAAOA,EAAEyB,KAAO2C,EAAT,2BAEApE,GAFA,IAGH6B,MAAOkF,EACPjF,OAAQkF,IAJL,eAMEhH,MAEXkE,EAAU,YAAI+C,IAuDSC,CAAuB9H,QAKxC2B,GACA,CAAC,OAAQ,QAAQ0F,SAASrH,EAAM8B,KAAKuC,OACF,IAAnCrE,EAAM8B,KAAKC,MAAMgG,OAAOC,QAC1B,2BACEV,UAAS,yBAAoBtH,EAAM8B,KAAKuC,KAA/B,QACT3D,EAAGV,EAAMuC,KACT3B,EAAGZ,EAAMwC,IACTC,MAAOzC,EAAMyC,MACbC,OAAQ1C,EAAM0C,OACd5B,YAAaoF,EACbhD,cAAe,iBAA0B,SAApBlD,EAAM8B,KAAKuC,KAAkBzC,GAAW,GAAQ,OAKrED,GACA,CAAC,OAAQ,QAAQ0F,SAASrH,EAAM8B,KAAKuC,OACrCrE,EAAM8B,KAAKC,MAAMgG,OAAOC,OAAS,IAEnC,CACE,KAAQ,kBAACC,EAAD,CACNjI,MAAOA,EACP2B,QAASA,EACTC,WAAYA,EACZC,OAAQ,SAAAE,GAAK,OAAIiE,EAAkB,2BAC9BhG,GAD6B,IAEhC8B,KAAK,2BACA9B,EAAM8B,MADP,IAEFC,gBAIN,KAAQ,kBAACmG,EAAD,CACNlI,MAAOA,EACPyD,YAAazD,EAAMqC,KAAO2C,KAE5BhF,EAAM8B,KAAKuC,MAEdrE,EAAMqC,KAAO2C,GAAiB,oCAC7B,kBAACmD,EAAD,CACErI,SAAS,WACTD,MAAOA,EACPF,GAAIK,EAAMuC,KACV3C,GAAII,EAAMwC,IACVxC,MAAOA,EACPD,OAAQA,IAEV,kBAACoI,EAAD,CACErI,SAAS,YACTD,MAAOA,EACPF,GAAIK,EAAMuC,KAAOvC,EAAMyC,MACvB7C,GAAII,EAAMwC,IACVxC,MAAOA,EACPD,OAAQA,IAEV,kBAACoI,EAAD,CACErI,SAAS,cACTD,MAAOA,EACPF,GAAIK,EAAMuC,KACV3C,GAAII,EAAMwC,IAAMxC,EAAM0C,OACtB1C,MAAOA,EACPD,OAAQA,IAEV,kBAACoI,EAAD,CACErI,SAAS,eACTD,MAAOA,EACPF,GAAIK,EAAMuC,KAAOvC,EAAMyC,MACvB7C,GAAII,EAAMwC,IAAMxC,EAAM0C,OACtB1C,MAAOA,EACPD,OAAQA,IAEV,kBAACqI,EAAD,CAAOhH,GAAIpB,EAAMuC,KAAO,IAAKlB,GAAIrB,EAAMwC,IAAKlB,GAAItB,EAAMuC,KAAOvC,EAAMyC,MAAQ,IAAKlB,GAAIvB,EAAMwC,IAAKhB,KAAM0F,EAAY,SACjH,kBAACkB,EAAD,CAAOhH,GAAIpB,EAAMuC,KAAO,IAAKlB,GAAIrB,EAAMwC,IAAMxC,EAAM0C,OAAQpB,GAAItB,EAAMuC,KAAOvC,EAAMyC,MAAQ,IAAKlB,GAAIvB,EAAMwC,IAAMxC,EAAM0C,OAAQlB,KAAM0F,EAAY,YAC/I,kBAACkB,EAAD,CAAOhH,GAAIpB,EAAMuC,KAAMlB,GAAIrB,EAAMwC,IAAM,IAAKlB,GAAItB,EAAMuC,KAAMhB,GAAIvB,EAAMwC,IAAMxC,EAAM0C,OAAS,IAAKlB,KAAM0F,EAAY,UAClH,kBAACkB,EAAD,CAAOhH,GAAIpB,EAAMuC,KAAOvC,EAAMyC,MAAOpB,GAAIrB,EAAMwC,IAAM,IAAKlB,GAAItB,EAAMuC,KAAOvC,EAAMyC,MAAOlB,GAAIvB,EAAMwC,IAAMxC,EAAM0C,OAAS,IAAKlB,KAAM0F,EAAY,cCpQvI,cAAoE,IAAjEnC,EAAgE,EAAhEA,OAAQD,EAAwD,EAAxDA,UAAWE,EAA6C,EAA7CA,cAAeC,EAA8B,EAA9BA,iBAAkBpF,EAAY,EAAZA,MAC9DwI,EAAWpI,IAAMqI,SACvB,OACE,yBAAKC,MAAM,6BACTC,QAAQ,MACR/F,MAAO5C,EAAM4C,MACbC,OAAQ7C,EAAM6C,OACd+F,IAAKJ,GAIuB,UAA1BxI,EAAM6I,WAAWrE,MAQc,IAA7BxE,EAAM6I,WAAWC,QANjB,0BACElG,MAAO5C,EAAM4C,MACbC,OAAQ7C,EAAM6C,OAAQhC,EAAE,IAAIE,EAAE,IAAIO,KAAMtB,EAAM6I,WAAW7F,MACzD0E,QAAS,kBAAMtC,OAWf,2BACEqC,UAAS,0BAAqBzH,EAAM6I,WAAWC,QAAtC,QACTjI,EAAE,IACFE,EAAE,IACF6B,MAAO5C,EAAM4C,MACbC,OAAQ7C,EAAM6C,OACdkG,oBAAoB,iBACpBrB,QAAS,kBAAMtC,OAIrBF,EACGQ,KAAI,SAAAvF,GAAK,OACR,kBAAC,EAAD,CACEgF,cAAeA,EACfC,iBAAkBA,EAClB4D,IAAK7I,EAAMqC,GACXrC,MAAOA,EACP+E,OAAQA,EACRD,UAAWA,EACXjF,MAAOwI,S,6CC5CN,cAA6D,IAA1DtD,EAAyD,EAAzDA,OAAQD,EAAiD,EAAjDA,UAAWE,EAAsC,EAAtCA,cAAeC,EAAuB,EAAvBA,iBAC5C6D,EAAc/D,EAAOiC,MAAK,SAAAhH,GAAK,OAAIA,EAAMqC,KAAO2C,MAAkB,GACxE,OACE,yBAAKvD,MAAO,CAAEgB,MAAO,OAAQO,gBAAiB,uBAC5C,kBAAC+F,EAAA,EAAD,CAAYlG,MAAM,UAAUmG,UAAU,OACpCC,UAAWjE,EACXvD,MAAO,CAAEyH,MAAO,SAChB3B,QAAS,WACPzC,EAAU,YAAIC,EAAOM,QAAO,SAAArF,GAAK,OAAIA,EAAMqC,KAAO2C,OAClDC,MAEF,kBAAC,IAAD,OAEF,kBAAC8D,EAAA,EAAD,CAAYlG,MAAM,UAAUmG,UAAU,OACpCC,UAAWjE,EACXvD,MAAO,CAAEyH,MAAO,SAChB3B,QAAS,WACP,IAAIlF,EAAKqB,MAASyF,OAClBrE,EAAU,GAAD,mBAAKC,GAAL,aAAC,eAAiB+D,GAAlB,IAA+BzG,KAAKE,KAAMuG,EAAYvG,KAAO,GAAIC,IAAKsG,EAAYtG,IAAM,QACjGyC,EAAiB5C,KAEnB,kBAAC,IAAD,S,yFCpBO,WAAA+G,GAAU,IAAD,EACdC,EAAaD,EAAbC,SACFC,GAAW,GACfC,QAAS,GADM,wBAEN,GAFM,0BAGJ,IAHI,gCAIE,SAJF,GAMXC,EAAY,CAChB9G,OAAQ,GACRD,MAAO,IAET,OACE,yBAAKhB,MAAO,CACVgB,MAAO,IACPC,OAAQ,qBACRM,gBAAiB,UACjBiB,QAAS,OACTwF,cAAe,SACfvF,WAAY,WAEZ,kBAACwF,EAAA,EAAD,CAAQC,QAAQ,WAAW9G,MAAM,UAAU0E,QAAS,kBAAM8B,EAAS,UAAU5H,MAAK,eAAO6H,IAAe,kBAAC,IAAD,CAAO7H,MAAK,eAAO+H,MAC3H,kBAACE,EAAA,EAAD,CAAQC,QAAQ,WAAW9G,MAAM,UAAU0E,QAAS,kBAAM8B,EAAS,UAAU5H,MAAK,eAAO6H,IAAe,kBAAC,IAAD,CAAU7H,MAAK,eAAO+H,MAC9H,kBAACE,EAAA,EAAD,CAAQC,QAAQ,WAAW9G,MAAM,UAAU0E,QAAS,kBAAM8B,EAAS,SAAS5H,MAAK,eAAO6H,IAAe,kBAAC,IAAD,CAAY7H,MAAK,eAAO+H,MAC/H,kBAACE,EAAA,EAAD,CAAQC,QAAQ,WAAW9G,MAAM,UAAU0E,QAAS,kBAAM8B,EAAS,SAAS5H,MAAK,eAAO6H,IAAe,kBAAC,IAAD,CAAO7H,MAAK,eAAO+H,Q,iFCrBjH,cAA4D,IAAzDI,EAAwD,EAAxDA,aAAcC,EAA0C,EAA1CA,cAAeC,EAA2B,EAA3BA,MAAOzF,EAAoB,EAApBA,KAAM0F,EAAc,EAAdA,QAAc,EACxC9J,IAAMC,WADkC,mBACjE8J,EADiE,KACvDC,EADuD,KAElEC,EAAO,CACXC,UAAW,GACXC,OAAQ,IAUV,OACE,kBAACC,EAAA,EAAD,CACEC,KAAMV,EACNW,QAXgB,WACG,oBAAVT,GAAsBA,IACjCD,GAAc,IAUZW,WAAS,EACTC,SAAS,MAET,kBAACC,EAAA,EAAD,+BACsBrG,IAGtB,kBAACsG,EAAA,EAAD,MACA,kBAACC,EAAA,EAAD,KACE,yBAAKnJ,MAAO,CACVgB,MAAO,OAAQC,OAAQ,IAAKM,gBAAiB,wBAAyB6H,UAAW,GAAI5G,QAAS,OAC9F6G,SAAU,SAGR,CAAC,EAAG,EAAG,EAAG,GAAGvF,KAAI,SAAAlD,GAAE,OAAI,yBACrBwG,IAAKxG,EACLZ,MAAK,2BACAyI,GADA,IAEHa,OAAO,aAAD,OAAef,IAAa3H,EAAK,UAAY,iBAErDkF,QAAS,WACP0C,EAAY5H,IAEd2I,IAAI,wBACJC,IAAK,CACH,MAAQ,mBAAR,OAA4B5I,EAA5B,QACA,MAAQ,qBAAR,OAA8BA,EAA9B,SACAgC,GACF6G,MAAM,+BAKd,kBAACC,EAAA,EAAD,KACE,kBAACzB,EAAA,EAAD,CAAQC,QAAQ,YAAYpC,QAAS,kBAAMsC,GAAc,KAAzD,UACA,kBAACH,EAAA,EAAD,CAAQC,QAAQ,YAAYlI,MAAO,CAAE2J,WAAY,IAAMvI,MAAM,UAAUoG,UAAWe,EAAUzC,QA3C5E,SAAA9G,GACG,oBAAZsJ,GAAwBA,EAAQC,GAC3CH,GAAc,KAyCV,c,SC3DO,cAA2C,IAAxC9H,EAAuC,EAAvCA,MAAOsJ,EAAgC,EAAhCA,SAAU5J,EAAsB,EAAtBA,MAAOwH,EAAe,EAAfA,SAAe,EACjBhJ,IAAMC,UAAS,GADE,mBAChD0J,EADgD,KAClCC,EADkC,KAMvD,OACE,oCACE,kBAACyB,EAAA,EAAD,CACEjH,KAAK,OACLsF,QAAQ,WACR5H,MAAOA,EACPN,MAAK,eAAOA,GACZ8J,WAAY,CAAEC,WAAY,CAAE/J,MAAO,CAAE8H,QAAS,WAC9ChC,QAAS,kBAAM0B,EAAW,GAAKY,GAAc,IAC7CwB,SAAUA,EACVb,WAAS,EACTvB,SAAUA,EACVwC,gBAAiB,CACfC,QAAQ,KAGZ,kBAACrB,EAAA,EAAD,CACEE,QAAS,kBAAMV,GAAc,IAC7BS,KAAMV,GAEN,kBAAC,IAAD,CACE/G,MAAOd,EACP4J,iBA1Be,SAAAlL,GACrB4K,EAAS5K,GACToJ,GAAc,SCHH,cAAsB,IAAnBf,EAAkB,EAAlBA,YAChB,OACE,oCACE,yBAAKrH,MAAO,CAAEwC,QAAS,OAAQ4G,UAAW,KACxC,kBAACS,EAAA,EAAD,CACEM,MAAM,OACNvH,KAAK,OACLsF,QAAQ,WACR5H,MAAO+G,EAAYvG,OAErB,kBAAC+I,EAAA,EAAD,CACEM,MAAM,MACNvH,KAAK,OACLsF,QAAQ,WACRlI,MAAO,CAAE2J,WAAY,IACrBrJ,MAAO+G,EAAYtG,OAGvB,yBAAKf,MAAO,CAAEwC,QAAS,OAAQ4G,UAAW,KACxC,kBAACS,EAAA,EAAD,CACEM,MAAM,QACNvH,KAAK,OACLsF,QAAQ,WACR5H,MAAO+G,EAAYrG,QAErB,kBAAC6I,EAAA,EAAD,CACEM,MAAM,SACNvH,KAAK,OACLsF,QAAQ,WACRlI,MAAO,CAAE2J,WAAY,IACrBrJ,MAAO+G,EAAYpG,YC5Bd,cAAyC,IAAtCqC,EAAqC,EAArCA,OAAQD,EAA6B,EAA7BA,UAAWgE,EAAkB,EAAlBA,YAC7B9C,EAAoB,SAAC6C,EAAK9G,GAC9B,IAAM8F,EAAgB9C,EAAOQ,KAAI,SAAAvF,GAC/B,OAAOA,EAAMqC,KAAOyG,EAAYzG,GAAzB,2BACErC,GADF,IACS8B,KAAK,2BAAM9B,EAAM8B,MAAb,kBAAoB+G,EAAM9G,MADvC,eAEE/B,MAEX8E,EAAU,YAAI+C,KAEhB,OACE,6BACE,+CACA,kBAACgE,EAAD,CAAiB/C,YAAaA,IAC9B,wBAAIrH,MAAO,CAAEoJ,UAAW,GAAIiB,aAAc,KAA1C,gBACA,kBAACR,EAAA,EAAD,CACEd,WAAS,EACTuB,WAAS,EACTpC,QAAQ,WACR5H,MAAO+G,EAAYhH,KAAKC,MACxBsJ,SAAU,SAAA5K,GAAC,OAAIuF,EAAkB,QAASvF,EAAEuL,OAAOjK,QACnDkK,QAAS,IAEX,wBAAIxK,MAAO,CAAEoJ,UAAW,GAAIiB,aAAc,KAA1C,mBACA,yBAAKrK,MAAO,CAAEwC,QAAS,OAAQC,WAAY,WACzC,0BAAMzC,MAAO,CAAEyK,YAAa,KAA5B,UACA,kBAACC,EAAD,CACEpK,MAAO+G,EAAYhH,KAAKgB,WAAa,UACrCmG,SAAmD,IAAzCH,EAAYhH,KAAKC,MAAMgG,OAAOC,OACxCqD,SAAU,SAAAxI,GAAK,OAAImD,EAAkB,YAAanD,EAAMuJ,QAE1D,0BAAM3K,MAAO,CAAE2J,WAAY,GAAIc,YAAa,KAA5C,SACA,kBAACZ,EAAA,EAAD,CACEjH,KAAK,SACLsF,QAAQ,WACRV,SAAmD,IAAzCH,EAAYhH,KAAKC,MAAMgG,OAAOC,OACxCuD,WAAY,CAAEC,WAAY,CAAE/J,MAAO,CAAE8H,QAAS,WAC9CxH,MAAO+G,EAAYhH,KAAKmB,UAAY,GACpCoI,SAAU,SAAA5K,GAAC,OAAIuF,EAAkB,WAAYvF,EAAEuL,OAAOjK,a,2BCjCjD,eAAyC,IAAtCgD,EAAqC,EAArCA,OAAQD,EAA6B,EAA7BA,UAAWgE,EAAkB,EAAlBA,YAC7B9C,EAAoB,SAAC6C,EAAK9G,GAC9B,IAAM8F,EAAgB9C,EAAOQ,KAAI,SAAAvF,GAC/B,OAAOA,EAAMqC,KAAOyG,EAAYzG,GAAzB,2BACErC,GADF,IACS8B,KAAK,2BAAM9B,EAAM8B,MAAb,kBAAoB+G,EAAM9G,MADvC,eAEE/B,MAEX8E,EAAU,YAAI+C,KAEhB,OACE,6BACE,+CACA,kBAACgE,EAAD,CAAiB/C,YAAaA,IAC9B,wBAAIrH,MAAO,CAAEoJ,UAAW,GAAIiB,aAAc,KAA1C,UACA,kBAACO,EAAA,EAAD,CAAa1C,QAAQ,WAAWa,WAAS,GACvC,kBAAC8B,EAAA,EAAD,CACEvK,MAAO+G,EAAYhH,KAAKC,MACxBsJ,SAAU,SAAA5K,GAAC,OAAIuF,EAAkB,QAASvF,EAAEuL,OAAOjK,QACnDwK,cAAY,GAEZ,kBAACC,EAAA,EAAD,CAAUzK,MAAO,IAAjB,SACA,kBAACyK,EAAA,EAAD,CAAUzK,MAAO,uBAAjB,uBACA,kBAACyK,EAAA,EAAD,CAAUzK,MAAO,yBAAjB,yBACA,kBAACyK,EAAA,EAAD,CAAUzK,MAAO,YAAjB,YACA,kBAACyK,EAAA,EAAD,CAAUzK,MAAO,cAAjB,gBAGJ,wBAAIN,MAAO,CAAEoJ,UAAW,GAAIiB,aAAc,KAA1C,mBACA,yBAAKrK,MAAO,CAAEwC,QAAS,OAAQC,WAAY,WACzC,0BAAMzC,MAAO,CAAEyK,YAAa,KAA5B,UACA,kBAACC,EAAD,CACEpK,MAAO+G,EAAYhH,KAAKgB,WAAa,UACrCmG,SAAmD,IAAzCH,EAAYhH,KAAKC,MAAMgG,OAAOC,OACxCqD,SAAU,SAAAxI,GAAK,OAAImD,EAAkB,YAAanD,EAAMuJ,QAE1D,0BAAM3K,MAAO,CAAE2J,WAAY,GAAIc,YAAa,KAA5C,SACA,kBAACZ,EAAA,EAAD,CACEjH,KAAK,SACLsF,QAAQ,WACRV,SAAmD,IAAzCH,EAAYhH,KAAKC,MAAMgG,OAAOC,OACxCuD,WAAY,CAAEC,WAAY,CAAE/J,MAAO,CAAE8H,QAAS,WAC9CxH,MAAO+G,EAAYhH,KAAKmB,UAAY,GACpCoI,SAAU,SAAA5K,GAAC,OAAIuF,EAAkB,WAAYvF,EAAEuL,OAAOjK,aCvC1D0K,GAAkB,SAAC,GAAqB,IAAnB3D,EAAkB,EAAlBA,YACzB,OACE,oCACE,yBAAKrH,MAAO,CAAEwC,QAAS,OAAQ4G,UAAW,KACxC,kBAACS,EAAA,EAAD,CACEM,MAAM,OACNvH,KAAK,OACLsF,QAAQ,WACR5H,MAAO+G,EAAYvG,OAErB,kBAAC+I,EAAA,EAAD,CACEM,MAAM,MACNvH,KAAK,OACLsF,QAAQ,WACRlI,MAAO,CAAE2J,WAAY,IACrBrJ,MAAO+G,EAAYtG,OAGvB,yBAAKf,MAAO,CAAEwC,QAAS,OAAQ4G,UAAW,KACxC,kBAACS,EAAA,EAAD,CACEM,MAAM,QACNvH,KAAK,OACLsF,QAAQ,WACR5H,MAAO+G,EAAYrG,QAErB,kBAAC6I,EAAA,EAAD,CACEM,MAAM,SACNvH,KAAK,OACLsF,QAAQ,WACRlI,MAAO,CAAE2J,WAAY,IACrBrJ,MAAO+G,EAAYpG,YAMvBgK,GAAkB,SAAC,GAAwC,IAAtC3H,EAAqC,EAArCA,OAAQD,EAA6B,EAA7BA,UAAWgE,EAAkB,EAAlBA,YAAkB,EACxB7I,IAAMC,UAAS,GADS,mBACvD0J,EADuD,KACzCC,EADyC,KAgB9D,OACE,6BACE,gDACA,kBAAC,GAAD,CAAiBf,YAAaA,IAC9B,kBAACY,EAAA,EAAD,CAAQC,QAAQ,YAAYlI,MAAO,CAAEoJ,UAAW,IAAMhI,MAAM,UAAU0E,QAAS,kBAAMsC,GAAc,KAAnG,sBAE0B,IAAxBf,EAAYhH,KAAKO,IAAY,yBAAKZ,MAAO,CACvCoJ,UAAW,GACX5G,QAAS,SAET,yBACExC,MAAO,CACL0I,UAAW,KAEba,IAAI,wBACJC,IAAG,0BAAqBnC,EAAYhH,KAAKO,GAAtC,QACH6I,MAAM,0BAER,yBAAKzJ,MAAO,CAAE2J,WAAY,KACxB,wBAAI3J,MAAO,CAAEoJ,UAAW,KAAxB,gBAAwCzG,EAAM,QAAS0E,EAAYhH,KAAKO,IAAIoC,OAC5E,wBAAIhD,MAAO,CAAEoJ,UAAW,KAAxB,gBAAwCzG,EAAM,QAAS0E,EAAYhH,KAAKO,IAAIqC,OAC5E,wBAAIjD,MAAO,CAAEoJ,UAAW,KAAxB,gBAAwCzG,EAAM,QAAS0E,EAAYhH,KAAKO,IAAIgC,SAIlF,kBAACsI,EAAD,CACEtI,KAAK,QACLuF,aAAcA,EACdC,cAAeA,EACfE,QAAS,SAAA1H,GAAE,OA3Cc,SAAAA,GAE7B,IAAMwF,EAAgB9C,EAAOQ,KAAI,SAAAvF,GAC/B,OAAOA,EAAMqC,KAAOyG,EAAYzG,GAAzB,2BAEArC,GAFA,IAGHyC,MAAO2B,EAAM,QAAS/B,GAAII,MAC1BC,OAAQ0B,EAAM,QAAS/B,GAAIK,OAC3BZ,KAAK,2BAAM9B,EAAM8B,MAAb,IAAmBO,SALpB,eAOErC,MAEX8E,EAAU,YAAI+C,IA+BK+E,CAAuBvK,QAKxCwK,GAAkB,SAAC,GAAwC,IAAtC9H,EAAqC,EAArCA,OAAQD,EAA6B,EAA7BA,UAAWgE,EAAkB,EAAlBA,YAAkB,EACxB7I,IAAMC,UAAS,GADS,mBACvD0J,EADuD,KACzCC,EADyC,KAe9D,OACE,6BACE,gDACA,kBAAC,GAAD,CAAiBf,YAAaA,IAC9B,kBAACY,EAAA,EAAD,CAAQC,QAAQ,YAAYlI,MAAO,CAAEoJ,UAAW,IAAMhI,MAAM,UAAU0E,QAAS,kBAAMsC,GAAc,KAAnG,sBAE0B,IAAxBf,EAAYhH,KAAKO,IAAY,yBAAKZ,MAAO,CACvCoJ,UAAW,GACX5G,QAAS,SAET,yBACExC,MAAO,CACL0I,UAAW,KAEba,IAAI,wBACJC,IAAG,4BAAuBnC,EAAYhH,KAAKO,GAAxC,QACH6I,MAAM,0BAER,yBAAKzJ,MAAO,CAAE2J,WAAY,KACxB,wBAAI3J,MAAO,CAAEoJ,UAAW,KAAxB,gBAAwCzG,EAAM,QAAS0E,EAAYhH,KAAKO,IAAIoC,OAC5E,wBAAIhD,MAAO,CAAEoJ,UAAW,KAAxB,gBAAwCzG,EAAM,QAAS0E,EAAYhH,KAAKO,IAAIqC,OAC5E,wBAAIjD,MAAO,CAAEoJ,UAAW,KAAxB,gBAAwCzG,EAAM,QAAS0E,EAAYhH,KAAKO,IAAIgC,SAIlF,kBAACsI,EAAD,CACEtI,KAAK,QACLuF,aAAcA,EACdC,cAAeA,EACfE,QAAS,SAAA1H,GAAE,OA1Cc,SAAAA,GAC7B,IAAMwF,EAAgB9C,EAAOQ,KAAI,SAAAvF,GAC/B,OAAOA,EAAMqC,KAAOyG,EAAYzG,GAAzB,2BAEArC,GAFA,IAGHyC,MAAO2B,EAAM,QAAS/B,GAAII,MAC1BC,OAAQ0B,EAAM,QAAS/B,GAAIK,OAC3BZ,KAAK,2BAAM9B,EAAM8B,MAAb,IAAmBO,SALpB,eAOErC,MAEX8E,EAAU,YAAI+C,IA+BKiF,CAAuBzK,QAKxC0K,GAAkB,SAAC,GAAyB,IAAvBlN,EAAsB,EAAtBA,MAAOmN,EAAe,EAAfA,SAAe,EACT/M,IAAMC,UAAS,GADN,mBACxC0J,EADwC,KAC1BC,EAD0B,KAG/C,OACE,6BACE,gDACA,wBAAIpI,MAAO,CAAE2I,OAAQ,WAArB,iBAA4CtD,KAAKmG,MAAMpN,EAAM4C,SAC7D,wBAAIhB,MAAO,CAAE2I,OAAQ,WAArB,kBAA6CtD,KAAKmG,MAAMpN,EAAM6C,UAC9D,wBAAIjB,MAAO,CAAEoJ,UAAW,GAAIiB,aAAc,IAA1C,gBACA,kBAACoB,EAAA,EAAD,CAAYC,KAAG,EAACC,aAAW,SAAS3I,KAAK,UAAU1C,MAAOlC,EAAM6I,WAAWrE,KAAMgH,SAAU,SAAA5K,GAAC,OAAIuM,EAAS,2BACpGnN,GADmG,IAEtG6I,WAAW,2BACN7I,EAAM6I,YADD,IAERrE,KAAM5D,EAAEuL,OAAOjK,aAGjB,kBAACsL,EAAA,EAAD,CAAkBtL,MAAM,QAAQuL,QAAS,kBAACC,EAAA,EAAD,CAAO1K,MAAM,YAAc+I,MAAM,UAC1E,kBAACyB,EAAA,EAAD,CAAkBtL,MAAM,QAAQuL,QAAS,kBAACC,EAAA,EAAD,CAAO1K,MAAM,YAAc+I,MAAM,WAGhD,UAA1B/L,EAAM6I,WAAWrE,KAEf,kBAAC8H,EAAD,CACEpK,MAAOlC,EAAM6I,WAAW7F,MACxBwI,SAAU,SAAAxI,GAAK,OAAImK,EAAS,2BACvBnN,GADsB,IAEzB6I,WAAW,2BACN7I,EAAM6I,YADD,IAER7F,MAAOA,EAAMuJ,YAKnB,kBAAC1C,EAAA,EAAD,CAAQC,QAAQ,YAAY9G,MAAM,UAAU0E,QAAS,kBAAMsC,GAAc,KAAzE,sBAGyB,UAA1BhK,EAAM6I,WAAWrE,MAAiD,IAA7BxE,EAAM6I,WAAWC,SAAkB,yBAAKlH,MAAO,CACnFoJ,UAAW,GACX5G,QAAS,SAET,yBACExC,MAAO,CACL0I,UAAW,KAEba,IAAI,wBACJC,IAAG,0BAAqBpL,EAAM6I,WAAWC,QAAtC,QACHuC,MAAM,0BAER,yBAAKzJ,MAAO,CAAE2J,WAAY,KACxB,wBAAI3J,MAAO,CAAEoJ,UAAW,KAAxB,gBAAwCzG,EAAM,QAASvE,EAAM6I,WAAWC,SAASlE,OACjF,wBAAIhD,MAAO,CAAEoJ,UAAW,KAAxB,gBAAwCzG,EAAM,QAASvE,EAAM6I,WAAWC,SAASjE,OACjF,wBAAIjD,MAAO,CAAEoJ,UAAW,KAAxB,gBAAwCzG,EAAM,QAASvE,EAAM6I,WAAWC,SAAStE,SAIvF,kBAACsI,EAAD,CACEtI,KAAK,QACLuF,aAAcA,EACdC,cAAeA,EACfE,QAAS,SAAA1H,GAAE,OAAI2K,EAAS,2BACnBnN,GADkB,IAErB6I,WAAW,2BACN7I,EAAM6I,YADD,IAERC,QAAStG,YAON,eAA4D,IAAzD0C,EAAwD,EAAxDA,OAAQD,EAAgD,EAAhDA,UAAWE,EAAqC,EAArCA,cAAenF,EAAsB,EAAtBA,MAAOmN,EAAe,EAAfA,SACnDlE,EAAc/D,EAAOiC,MAAK,SAAAhH,GAAK,OAAIA,EAAMqC,KAAO2C,MAAkB,GACxE,OACE,yBAAKvD,MAAO,CACVgB,MAAO,IACPC,OAAQ,qBACRM,gBAAiB,UACjBuG,QAAS,KAGPT,EAAYhH,KAAO,CACjB,MAAS,kBAAC,GAAD,CAAiBgH,YAAaA,EAAa/D,OAAQA,EAAQD,UAAWA,IAC/E,MAAS,kBAAC,GAAD,CAAiBgE,YAAaA,EAAa/D,OAAQA,EAAQD,UAAWA,IAC/E,KAAQ,kBAAC,EAAD,CAAgBgE,YAAaA,EAAa/D,OAAQA,EAAQD,UAAWA,IAC7E,KAAQ,kBAAC,GAAD,CAAgBgE,YAAaA,EAAa/D,OAAQA,EAAQD,UAAWA,KAC7EgE,EAAYhH,KAAKuC,MACf,kBAAC,GAAD,CAAiBxE,MAAOA,EAAOmN,SAAUA,M,qBCzOtC,eAAgB,IAAbhN,EAAY,EAAZA,MAEhB,OACE,yBACEyB,MAAO,CACLgB,MAJO,IAIAzC,EAAMyC,MACbC,OALO,IAKC1C,EAAM0C,OACdE,SAAU,aACV4K,SAAU,SACV3K,MAAO7C,EAAM8B,KAAKgB,UAAY9C,EAAM8B,KAAKgB,eAAYC,EACrDC,gBAAiBhD,EAAM8B,KAAKkB,gBAAkBhD,EAAM8B,KAAKkB,qBAAkBD,EAC3EE,SAAUjD,EAAM8B,KAAKmB,SAVd,IAUyBjD,EAAM8B,KAAKmB,SAAkB,KAAO,KAGrEjD,EAAM8B,KAAKC,QCbH,eAAgB,IAAb/B,EAAY,EAAZA,MAAY,EAEFC,IAAMC,SAASwD,MAASC,OAAO3D,EAAM8B,KAAKC,QAFxC,mBAErB6B,EAFqB,KAEdC,EAFc,KAS5B,OANA5D,IAAMiC,WAAU,WACd,IAAI4B,EAGJ,OAFAD,EAASH,MAASC,OAAO3D,EAAM8B,KAAKC,QACpC+B,EAAUC,aAAY,kBAAMF,EAASH,MAASC,OAAO3D,EAAM8B,KAAKC,UAAS,KAClE,kBAAMiC,cAAcF,MAC1B,IAED,yBACErC,MAAO,CACLwC,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChB1B,MAdO,IAcAzC,EAAMyC,MACbC,OAfO,IAeC1C,EAAM0C,OACdG,MAAO7C,EAAM8B,KAAKgB,UAAY9C,EAAM8B,KAAKgB,eAAYC,EACrDC,gBAAiBhD,EAAM8B,KAAKkB,gBAAkBhD,EAAM8B,KAAKkB,qBAAkBD,EAC3EE,SAAUjD,EAAM8B,KAAKmB,SAlBd,IAkByBjD,EAAM8B,KAAKmB,SAAkB,KAAO,KAGrEW,IChBD6J,GAAa,SAAC,GAAe,IAAbzN,EAAY,EAAZA,MAEpB,OACE,2BAAOyC,MAFI,IAEGzC,EAAMyC,MAAcC,OAFvB,IAE+B1C,EAAM0C,OAAegL,UAAQ,GACrE,4BAAQzC,IAAG,0BAAqBjL,EAAM8B,KAAKO,GAAhC,QAA0CgC,KAAK,gBAI1DsJ,GAAa,SAAC,GAAe,IAAb3N,EAAY,EAAZA,MAEpB,OACE,yBACEiL,IAAG,0BAAqBjL,EAAM8B,KAAKO,GAAhC,QACHZ,MAAO,CACLgB,MALO,IAKAzC,EAAMyC,MACbC,OANO,IAMC1C,EAAM0C,WAKhBkL,GAAQ,SAAC,GAAe,IAAb5N,EAAY,EAAZA,MAEf,OACE,yBAAKyB,MAAO,CACV3B,SAAU,WACV2C,MAJS,IAIFzC,EAAMyC,MACbC,OALS,IAKD1C,EAAM0C,OACdF,IANS,IAMJxC,EAAMwC,IACXD,KAPS,IAOHvC,EAAMuC,OAEX,CACC,MAAS,kBAAC,GAAD,CAAYvC,MAAOA,IAC5B,MAAS,kBAAC,GAAD,CAAYA,MAAOA,IAC5B,KAAQ,kBAAC,GAAD,CAAYA,MAAOA,IAC3B,KAAQ,kBAAC,GAAD,CAAYA,MAAOA,KAC3BA,EAAM8B,KAAKuC,QAIJ,eAAqD,IAAlDuF,EAAiD,EAAjDA,aAAcC,EAAmC,EAAnCA,cAAe9E,EAAoB,EAApBA,OAAQlF,EAAY,EAAZA,MACrD,OACE,kBAACwK,EAAA,EAAD,CACEC,KAAMV,EACNW,QAAS,kBAAMV,GAAc,IAC7BgE,YAAU,GAEV,yBACEpM,MAAO,CACLgB,MAAO,OACPC,OAAQ,OACR5C,SAAU,WACV4I,WAAsC,UAA1B7I,EAAM6I,WAAWrE,MAEI,IAA7BxE,EAAM6I,WAAWC,QADjB9I,EAAM6I,WAAW7F,MACjB,oDAE+ChD,EAAM6I,WAAWC,QAFhE,WAKJ5D,EAAOQ,KAAI,SAAAvF,GAAK,OAAI,kBAAC,GAAD,CAAO6I,IAAK7I,EAAMqC,GAAIrC,MAAOA,OAEnD,kBAAC+I,EAAA,EAAD,CAAYxB,QAAS,kBAAMsC,GAAc,KACvC,kBAAC,KAAD,U,qBC/DK,eAAwB,IAArB9E,EAAoB,EAApBA,OAAQlF,EAAY,EAAZA,MAAY,EACEI,IAAMC,UAAS,GADjB,mBAC7B0J,EAD6B,KACfC,EADe,KAEpC,OACE,yBAAKpI,MAAO,CACViB,OAAQ,GACRM,gBAAiB,UACjBiB,QAAS,OACTC,WAAY,SACZqF,QAAS,WAET,8CACA,uBAAGuE,KAAK,0CAA0CrM,MAAO,CAAE2J,WAAY,KACrE,yBAAKH,IAAI,sBAAsBxJ,MAAO,CAAEgB,MAAO,GAAIC,OAAQ,OAE7D,yBAAKjB,MAAO,CAAEsM,KAAM,KACpB,kBAACrE,EAAA,EAAD,CAAQC,QAAQ,YAAY9G,MAAM,UAAU0E,QAAS,kBAAMsC,GAAc,KAAO,kBAAC,KAAD,MAAhF,QACA,kBAACmE,GAAD,CAAQpE,aAAcA,EAAcC,cAAeA,EAAe9E,OAAQA,EAAQlF,MAAOA,MCdhF,cAAO,IAAD,EACSI,IAAMC,SAAS,IADxB,mBACZ6E,EADY,KACJD,EADI,OAkCuB7E,IAAMC,WAlC7B,mBAkCZ8E,EAlCY,KAkCGC,EAlCH,OAmCOhF,IAAMC,SAAS,CACvCuC,MAAOgE,OAAOC,WAAa,IAC3BhE,OAAQ+D,OAAOE,YAAc,IAC7B+B,WAAY,CACVrE,KAAM,QACNxB,MAAO,UACP8F,QAAS,KAzCM,mBAmCZ9I,EAnCY,KAmCLmN,EAnCK,KA8DnB,OACE,yBAAKvL,MAAO,CACVgB,MAAO,OACPC,OAAQ,QACRM,gBAAiB,wBAEjB,kBAACiL,GAAD,CACElJ,OAAQA,EACRlF,MAAOA,IACT,yBAAK4B,MAAO,CACVgB,MAAO,OACPwB,QAAS,OACTC,WAAY,SACZC,eAAgB,WAEhB,kBAAC+J,EAAD,CAAS7E,SAjCQ,SAAAhF,GACrB,IAAMhC,EAAKqB,MAASyF,OACpBrE,EAAU,GAAD,mBACJC,GADI,CAEP,CACE1C,KACAI,MAAO,IACPC,OAAQ,IACRF,IAAK,EACLD,KAAM,EACNT,KAAM,CACJuC,OACAhC,GAAI,EACJN,MAAO,QAGbkD,EAAiB5C,MAkBb,yBAAKZ,MAAO,CAAEsM,KAAM,EAAGxE,QAAS,GAAItF,QAAS,OAAQwF,cAAe,SAAUvF,WAAY,SAAUxB,OAAQ,uBAC1G,kBAACyL,EAAD,CACEpJ,OAAQA,EACRD,UAAWA,EACXE,cAAeA,EACfC,iBAAkBA,IAEpB,yBAAKxD,MAAO,CAAEiB,OAAQ,OAAQuB,QAAS,OAAQC,WAAY,WACzD,kBAACkK,EAAD,CACEvO,MAAOA,EACPkF,OAAQA,EACRD,UAAWA,EACXE,cAAeA,EACfC,iBAAkBA,MAIxB,kBAACoJ,GAAD,CACExO,MAAOA,EACPmN,SAAUA,EACVjI,OAAQA,EACRD,UAAWA,EACXE,cAAeA,OCpGVsJ,I,OAJH,kBACV,kBAACC,GAAD,QCAFC,iBAAO,kBAAC,GAAD,MAAQrM,SAASC,eAAe,W","file":"static/js/main.8cf7ae52.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport default ({ cx, cy, board, position, layer, offset }) => {\r\n  const [isMoving, setMoving] = React.useState(false)\r\n  const startDrag = e => {\r\n    e.stopPropagation()\r\n    setMoving(true)\r\n    board.current.addEventListener('mousemove', drag)\r\n    board.current.addEventListener('mouseup', endDrag)\r\n  }\r\n  const endDrag = () => {\r\n    board.current.removeEventListener('mousemove', drag)\r\n    if (isMoving) setMoving(false)\r\n  }\r\n  const drag = e => {\r\n    offset({ position, x: e.offsetX - cx, y: e.offsetY - cy })\r\n  }\r\n  return (\r\n    <circle\r\n      onMouseDown={startDrag}\r\n      cx={cx}\r\n      cy={cy}\r\n      r=\"4\"\r\n      stroke=\"#1592E6\"\r\n      fill=\"#FFFFFF\"\r\n    />\r\n  )\r\n}","import React from 'react'\r\nexport default ({ x1, y1, x2, y2, show }) => {\r\n  return (\r\n    <line x1={x1} y1={y1} x2={x2} y2={y2} style={{ stroke: '#90EE90', strokeWidth: show ? 1 : 0 }} />\r\n  )\r\n}","import React from 'react'\r\nexport default ({ layer, editing, setEditing, finish }) => {\r\n  const [innerText, setInnerText] = React.useState(layer.data.value || '')\r\n\r\n  React.useEffect(() => {\r\n    if (document.getElementById(`text_${layer.id}`)) document.getElementById(`text_${layer.id}`).focus()\r\n  }, [])\r\n  return (\r\n    <foreignObject\r\n      x={layer.left}\r\n      y={layer.top}\r\n      width={layer.width}\r\n      height={layer.height}\r\n    >\r\n      <div\r\n        style={{\r\n          width: '100%',\r\n          height: '100%',\r\n          userSelect: 'none',\r\n          wordWrap: 'break-word',\r\n          color: layer.data.fontColor ? layer.data.fontColor : undefined,\r\n          backgroundColor: layer.data.backgroundColor ? layer.data.backgroundColor : undefined,\r\n          fontSize: layer.data.fontSize ? layer.data.fontSize + 'px' : undefined\r\n        }}\r\n        onDoubleClick={() => setEditing(true)}\r\n      >\r\n        {\r\n          editing\r\n            ?\r\n            <div\r\n              id={`text_${layer.id}`}\r\n              contentEditable\r\n              suppressContentEditableWarning\r\n              tabIndex=\"-1\"\r\n              onInput={e => setInnerText(e.currentTarget.innerText)}\r\n              onBlur={() => {\r\n                setEditing(false)\r\n                if (typeof finish === 'function') finish(innerText)\r\n              }}\r\n              style={{\r\n                width: layer.width,\r\n                height: layer.height\r\n              }}>\r\n              {layer.data.value}\r\n            </div>\r\n            :\r\n            layer.data.value\r\n        }\r\n      </div>\r\n    </foreignObject>\r\n  )\r\n}","import React from 'react'\r\nimport moment from 'moment'\r\nexport default ({ layer, isActivated }) => {\r\n  const [clock, setClock] = React.useState(moment().format(layer.data.value))\r\n  React.useEffect(() => {\r\n    let timeout = null\r\n    if (isActivated) {\r\n      setClock(moment().format(layer.data.value))\r\n      timeout = setInterval(() => setClock(moment().format(layer.data.value)), 1000)\r\n    }\r\n    return () => clearInterval(timeout)\r\n  }, [isActivated, layer])\r\n  return (\r\n    <foreignObject\r\n      x={layer.left}\r\n      y={layer.top}\r\n      width={layer.width}\r\n      height={layer.height}\r\n    >\r\n      <div style={{\r\n        width: '100%',\r\n        height: '100%',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: \"center\",\r\n        color: layer.data.fontColor ? layer.data.fontColor : undefined,\r\n        backgroundColor: layer.data.backgroundColor ? layer.data.backgroundColor : undefined,\r\n        fontSize: layer.data.fontSize ? layer.data.fontSize + 'px' : undefined,\r\n      }}>\r\n        {clock}\r\n      </div>\r\n    </foreignObject>\r\n  )\r\n}","export const media = (type, id) => ({\r\n  'image': images[id],\r\n  'video': videos[id],\r\n}[type])\r\nconst images = {\r\n  1: {\r\n    name: '擎天崗',\r\n    size: '127 KB',\r\n    type: 'jpg',\r\n    width: 133,\r\n    height: 100\r\n  },\r\n  2: {\r\n    name: 'Doughnuts',\r\n    size: '440 KB',\r\n    type: 'jpg',\r\n    width: 100,\r\n    height: 151\r\n  },\r\n  3: {\r\n    name: 'Food & Drink',\r\n    size: '3.7 MB',\r\n    type: 'jpg',\r\n    width: 149,\r\n    height: 100\r\n  },\r\n  4: {\r\n    name: 'West Virginia, USA',\r\n    size: '8 MB',\r\n    type: 'jpg',\r\n    width: 100,\r\n    height: 150\r\n  },\r\n}\r\nconst videos = {\r\n  1: {\r\n    name: '月亮',\r\n    size: '1.5 MB',\r\n    type: 'mp4',\r\n    width: 178,\r\n    height: 100\r\n  },\r\n  2: {\r\n    name: '空中的花朵',\r\n    size: '1.2 MB',\r\n    type: 'mp4',\r\n    width: 178,\r\n    height: 100\r\n  },\r\n  3: {\r\n    name: '溫室',\r\n    size: '8.7 MB',\r\n    type: 'mp4',\r\n    width: 178,\r\n    height: 100\r\n  },\r\n  4: {\r\n    name: '湖邊',\r\n    size: '11 MB',\r\n    type: 'mp4',\r\n    width: 178,\r\n    height: 100\r\n  },\r\n}","import React from 'react'\r\nimport Anchor from './Anchor'\r\nimport Guide from './Guide'\r\nimport TextLayer from './layers/Text'\r\nimport TimeLayer from './layers/Time'\r\nimport { media } from '../medias'\r\nexport default ({\r\n  layer,\r\n  board,\r\n  setLayers,\r\n  layers,\r\n  activeLayerID,\r\n  setActiveLayerID\r\n}) => {\r\n  const [start, setStart] = React.useState(null)\r\n  const [editing, setEditing] = React.useState(false)\r\n  const tops = layers.filter(l => l.id !== layer.id).map(l => l.top)\r\n  const bottoms = layers.filter(l => l.id !== layer.id).map(l => l.top + l.height)\r\n  const lefts = layers.filter(l => l.id !== layer.id).map(l => l.left)\r\n  const rights = layers.filter(l => l.id !== layer.id).map(l => l.left + l.width)\r\n  const layerXs = tops.concat(bottoms)\r\n  const layerYs = lefts.concat(rights)\r\n\r\n  React.useEffect(() => {\r\n    if (JSON.stringify(start) !== JSON.stringify({}) && start !== null) {\r\n      board.current.addEventListener('mousemove', drag)\r\n      board.current.addEventListener('mouseup', endDrag)\r\n    }\r\n  }, [start])\r\n  const handleUpdateLayer = updatedLayer => {\r\n    setLayers(layers.map(layer => {\r\n      if (layer.id === updatedLayer.id) return { ...updatedLayer }\r\n      else return { ...layer }\r\n    }))\r\n  }\r\n  const offset = ({ position, x, y }) => {\r\n    if (position === 'left-top')\r\n      handleUpdateLayer({\r\n        ...layer,\r\n        left: layer.left + x,\r\n        top: layer.top + y,\r\n        width: layer.width - x,\r\n        height: layer.height - y\r\n      })\r\n    if (position === 'right-top')\r\n      handleUpdateLayer({\r\n        ...layer,\r\n        top: layer.top + y,\r\n        width: layer.width + x,\r\n        height: layer.height - y\r\n      })\r\n    if (position === 'left-bottom')\r\n      handleUpdateLayer({\r\n        ...layer,\r\n        left: layer.left + x,\r\n        width: layer.width - x,\r\n        height: layer.height + y\r\n      })\r\n    if (position === 'right-bottom')\r\n      handleUpdateLayer({\r\n        ...layer,\r\n        width: layer.width + x,\r\n        height: layer.height + y\r\n      })\r\n  }\r\n  const startDrag = e => {\r\n    setStart({ left: e.clientX, top: e.clientY })\r\n  }\r\n  const endDrag = () => {\r\n    setStart({})\r\n    board.current.removeEventListener('mousemove', drag)\r\n  }\r\n  const drag = e => {\r\n    var newLeft = layer.left + e.x - start.left\r\n    var newTop = layer.top + e.y - start.top\r\n    var newRight = layer.left + e.x - start.left + layer.width\r\n    var newBottom = layer.top + e.y - start.top + layer.height\r\n    if (newLeft < 0) newLeft = 0\r\n    if (newTop < 0) newTop = 0\r\n    if (newRight > window.innerWidth / 1.5) newLeft = window.innerWidth / 1.5 - layer.width\r\n    if (newBottom > window.innerHeight / 1.5) newTop = window.innerHeight / 1.5 - layer.height\r\n    if (layerYs.some(layerY => Math.abs(layerY - newLeft) < 10)) {\r\n      newLeft = layerYs.find(layerY => Math.abs(layerY - newLeft) < 10)\r\n    }\r\n    if (layerXs.some(layerX => Math.abs(layerX - newTop) < 10)) {\r\n      newTop = layerXs.find(layerX => Math.abs(layerX - newTop) < 10)\r\n    }\r\n    if (layerYs.some(layerY => Math.abs(layerY - newRight) < 10)) {\r\n      newLeft = layerYs.find(layerY => Math.abs(layerY - newRight) < 10) - layer.width\r\n    }\r\n    if (layerXs.some(layerX => Math.abs(layerX - newBottom) < 10)) {\r\n      newTop = layerXs.find(layerX => Math.abs(layerX - newBottom) < 10) - layer.height\r\n    }\r\n    handleUpdateLayer({\r\n      ...layer,\r\n      left: newLeft,\r\n      top: newTop\r\n    })\r\n  }\r\n  const isGuideShow = (name) => {\r\n    if (name === 'top') {\r\n      return layerXs.some(layerX => Math.abs(layerX - layer.top) < 10)\r\n    }\r\n    if (name === 'bottom') {\r\n      return layerXs.some(layerX => Math.abs(layerX - layer.top - layer.height) < 10)\r\n    }\r\n    if (name === 'left') {\r\n      return layerYs.some(layerY => Math.abs(layerY - layer.left) < 10)\r\n    }\r\n    if (name === 'right') {\r\n      return layerYs.some(layerY => Math.abs(layerY - layer.left - layer.width) < 10)\r\n    }\r\n  }\r\n  const handleMediaSizeFitting = layer => {\r\n    const baseOnWidth = layer.width / layer.height > 1\r\n    const originMediaWidth = media(layer.data.type, layer.data.id).width\r\n    const originMediaHeight = media(layer.data.type, layer.data.id).height\r\n    const layerWidth = baseOnWidth ? layer.width : originMediaWidth * layer.height / originMediaHeight\r\n    const layerHeight = baseOnWidth ? originMediaHeight * layer.width / originMediaWidth : layer.height\r\n    const updatedLayers = layers.map(y => {\r\n      return y.id === activeLayerID\r\n        ? {\r\n          ...y,\r\n          width: layerWidth,\r\n          height: layerHeight\r\n        }\r\n        : { ...y }\r\n    })\r\n    setLayers([...updatedLayers])\r\n  }\r\n  return (\r\n    <g\r\n      onFocus={() => setActiveLayerID(layer.id)}\r\n      // onBlur={() => setActiveLayerID({})}\r\n      style={{ outline: 'none' }}\r\n      tabIndex=\"-1\"\r\n      onMouseDown={startDrag}\r\n    >\r\n      <rect\r\n        style={{\r\n          fill: 'transparent',\r\n          stroke: layer.id === activeLayerID ? '#bebebe' : undefined,\r\n          strokeWidth: layer.id === activeLayerID ? 1 : 0\r\n        }}\r\n        x={layer.left}\r\n        y={layer.top}\r\n        width={layer.width}\r\n        height={layer.height}\r\n      />\r\n      {\r\n        ['image', 'video'].includes(layer.data.type) &&\r\n        <image\r\n          xlinkHref={{\r\n            'image': `./assets/images/${layer.data.id}.jpg`,\r\n            'video': `./assets/previews/${layer.data.id}.jpg`,\r\n          }[layer.data.type]}\r\n          x={layer.left}\r\n          y={layer.top}\r\n          width={layer.width}\r\n          height={layer.height}\r\n          onMouseDown={startDrag}\r\n        />\r\n      }\r\n      {\r\n        ['image', 'video'].includes(layer.data.type) &&\r\n        layer.data.id > 0 &&\r\n        <>\r\n          <image\r\n            xlinkHref={{\r\n              'image': `./assets/images/0.jpg`,\r\n              'video': `./assets/previews/0.jpg`,\r\n            }[layer.data.type]}\r\n            x={layer.left + 10}\r\n            y={layer.top + 10}\r\n            width={20}\r\n            height={20}\r\n          />\r\n          {layer.id === activeLayerID && <image\r\n            xlinkHref={`./assets/tools/fit.jpg`}\r\n            x={layer.left + layer.width - 30}\r\n            y={layer.top + layer.height - 30}\r\n            width={20}\r\n            height={20}\r\n            onClick={() => handleMediaSizeFitting(layer)}\r\n          />}\r\n        </>\r\n      }\r\n      {\r\n        (!editing &&\r\n          ['text', 'time'].includes(layer.data.type) &&\r\n          layer.data.value.trim().length === 0) &&\r\n        <image\r\n          xlinkHref={`./assets/tools/${layer.data.type}.jpg`}\r\n          x={layer.left}\r\n          y={layer.top}\r\n          width={layer.width}\r\n          height={layer.height}\r\n          onMouseDown={startDrag}\r\n          onDoubleClick={() => layer.data.type === 'text' ? setEditing(true) : {}}\r\n        />\r\n      }\r\n      {\r\n        (\r\n          editing ||\r\n          ['text', 'time'].includes(layer.data.type) &&\r\n          layer.data.value.trim().length > 0\r\n        ) &&\r\n        {\r\n          'text': <TextLayer\r\n            layer={layer}\r\n            editing={editing}\r\n            setEditing={setEditing}\r\n            finish={value => handleUpdateLayer({\r\n              ...layer,\r\n              data: {\r\n                ...layer.data,\r\n                value\r\n              }\r\n            })}\r\n          />,\r\n          'time': <TimeLayer\r\n            layer={layer}\r\n            isActivated={layer.id === activeLayerID}\r\n          />,\r\n        }[layer.data.type]\r\n      }\r\n      {layer.id === activeLayerID && <>\r\n        <Anchor\r\n          position=\"left-top\"\r\n          board={board}\r\n          cx={layer.left}\r\n          cy={layer.top}\r\n          layer={layer}\r\n          offset={offset}\r\n        />\r\n        <Anchor\r\n          position=\"right-top\"\r\n          board={board}\r\n          cx={layer.left + layer.width}\r\n          cy={layer.top}\r\n          layer={layer}\r\n          offset={offset}\r\n        />\r\n        <Anchor\r\n          position=\"left-bottom\"\r\n          board={board}\r\n          cx={layer.left}\r\n          cy={layer.top + layer.height}\r\n          layer={layer}\r\n          offset={offset}\r\n        />\r\n        <Anchor\r\n          position=\"right-bottom\"\r\n          board={board}\r\n          cx={layer.left + layer.width}\r\n          cy={layer.top + layer.height}\r\n          layer={layer}\r\n          offset={offset}\r\n        />\r\n        <Guide x1={layer.left - 100} y1={layer.top} x2={layer.left + layer.width + 100} y2={layer.top} show={isGuideShow('top')} />\r\n        <Guide x1={layer.left - 100} y1={layer.top + layer.height} x2={layer.left + layer.width + 100} y2={layer.top + layer.height} show={isGuideShow('bottom')} />\r\n        <Guide x1={layer.left} y1={layer.top - 100} x2={layer.left} y2={layer.top + layer.height + 100} show={isGuideShow('left')} />\r\n        <Guide x1={layer.left + layer.width} y1={layer.top - 100} x2={layer.left + layer.width} y2={layer.top + layer.height + 100} show={isGuideShow('right')} />\r\n      </>}\r\n    </g>\r\n  )\r\n}","import React from 'react'\r\nimport Layer from './Layer'\r\nexport default ({ layers, setLayers, activeLayerID, setActiveLayerID, board }) => {\r\n  const boardRef = React.useRef()\r\n  return (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\"\r\n      version=\"1.1\"\r\n      width={board.width}\r\n      height={board.height}\r\n      ref={boardRef}\r\n      // stroke=\"#f5f5f5\"\r\n    >\r\n      {\r\n        board.background.type === 'color'\r\n          ?\r\n          <rect\r\n            width={board.width}\r\n            height={board.height} x=\"0\" y=\"0\" fill={board.background.color}\r\n            onClick={() => setActiveLayerID()}\r\n          />\r\n          :\r\n          board.background.imageId === 0\r\n            ?\r\n            <rect\r\n              width={board.width}\r\n              height={board.height} x=\"0\" y=\"0\" fill={board.background.color}\r\n              onClick={() => setActiveLayerID()}\r\n            />\r\n            :\r\n            <image\r\n              xlinkHref={`./assets/images/${board.background.imageId}.jpg`}\r\n              x=\"0\"\r\n              y=\"0\"\r\n              width={board.width}\r\n              height={board.height}\r\n              preserveAspectRatio=\"xMidYMid slice\"\r\n              onClick={() => setActiveLayerID()}\r\n            />\r\n      }\r\n      {\r\n        layers\r\n          .map(layer =>\r\n            <Layer\r\n              activeLayerID={activeLayerID}\r\n              setActiveLayerID={setActiveLayerID}\r\n              key={layer.id}\r\n              layer={layer}\r\n              layers={layers}\r\n              setLayers={setLayers}\r\n              board={boardRef}\r\n            />)\r\n      }\r\n    </svg>\r\n  )\r\n}","import React from 'react'\r\nimport { IconButton, Paper } from '@material-ui/core'\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\r\nimport moment from 'moment'\r\nexport default ({ layers, setLayers, activeLayerID, setActiveLayerID }) => {\r\n  const activeLayer = layers.find(layer => layer.id === activeLayerID) || {}\r\n  return (\r\n    <div style={{ width: '100%', backgroundColor: 'rgb(241, 243, 247)' }}>\r\n      <IconButton color=\"primary\" component=\"span\"\r\n        disabled={!activeLayerID}\r\n        style={{ float: 'right' }}\r\n        onClick={() => {\r\n          setLayers([...layers.filter(layer => layer.id !== activeLayerID)])\r\n          setActiveLayerID()\r\n        }}>\r\n        <DeleteIcon />\r\n      </IconButton>\r\n      <IconButton color=\"primary\" component=\"span\"\r\n        disabled={!activeLayerID}\r\n        style={{ float: 'right' }}\r\n        onClick={() => {\r\n          let id = moment().unix()\r\n          setLayers([...layers, { ...activeLayer, id , left: activeLayer.left + 20, top: activeLayer.top + 20 }])\r\n          setActiveLayerID(id)\r\n        }}>\r\n        <FileCopyIcon />\r\n      </IconButton>\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\nimport { Button } from '@material-ui/core'\r\nimport Image from '@material-ui/icons/Image';\r\nimport Theaters from '@material-ui/icons/Theaters';\r\nimport TextFields from '@material-ui/icons/TextFields';\r\nimport Clock from '@material-ui/icons/AccessTime';\r\nexport default props => {\r\n  const { addLayer } = props\r\n  const buttonStyle = {\r\n    padding: 5,\r\n    padding: 5,\r\n    marginTop: 20,\r\n    backgroundColor: 'white'\r\n  };\r\n  const iconStyle = {\r\n    height: 52,\r\n    width: 52\r\n  };\r\n  return (\r\n    <div style={{\r\n      width: 104,\r\n      height: 'calc(100vh - 80px)',\r\n      backgroundColor: '#f1f3f7',\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center'\r\n    }}>\r\n      <Button variant=\"outlined\" color=\"primary\" onClick={() => addLayer('image')} style={{ ...buttonStyle }}><Image style={{ ...iconStyle }} /></Button>\r\n      <Button variant=\"outlined\" color=\"primary\" onClick={() => addLayer('video')} style={{ ...buttonStyle }}><Theaters style={{ ...iconStyle }} /></Button>\r\n      <Button variant=\"outlined\" color=\"primary\" onClick={() => addLayer('text')} style={{ ...buttonStyle }}><TextFields style={{ ...iconStyle }} /></Button>\r\n      <Button variant=\"outlined\" color=\"primary\" onClick={() => addLayer('time')} style={{ ...buttonStyle }}><Clock style={{ ...iconStyle }} /></Button>\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\nimport {\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Divider,\r\n  Button,\r\n} from '@material-ui/core'\r\nexport default ({ isDialogOpen, setDialogOpen, close, type, confirm }) => {\r\n  const [selected, setSelected] = React.useState()\r\n  const card = {\r\n    maxHeight: 90,\r\n    margin: 10\r\n  }\r\n  const handleClose = () => {\r\n    if (typeof close === 'function') close()\r\n    setDialogOpen(false)\r\n  }\r\n  const handleConfirm = e => {\r\n    if (typeof confirm === 'function') confirm(selected)\r\n    setDialogOpen(false)\r\n  }\r\n  return (\r\n    <Dialog\r\n      open={isDialogOpen}\r\n      onClose={handleClose}\r\n      fullWidth\r\n      maxWidth=\"sm\"\r\n    >\r\n      <DialogTitle>\r\n        {`Media Library > ${type}`}\r\n      </DialogTitle>\r\n\r\n      <Divider />\r\n      <DialogContent>\r\n        <div style={{\r\n          width: '100%', height: 240, backgroundColor: 'rgba(74, 91, 117, 0.1', marginTop: 16, display: 'flex',\r\n          flexWrap: 'wrap'\r\n        }}>\r\n          {\r\n            [1, 2, 3, 4].map(id => <img\r\n              key={id}\r\n              style={{\r\n                ...card,\r\n                border: `3px solid ${selected === id ? '#3f51b5' : 'transparent'}`\r\n              }}\r\n              onClick={() => {\r\n                setSelected(id)\r\n              }}\r\n              alt=\"Contemplative Reptile\"\r\n              src={{\r\n                'image': `./assets/images/${id}.jpg`,\r\n                'video': `./assets/previews/${id}.jpg`,\r\n              }[type]}\r\n              title=\"Contemplative Reptile\"\r\n            />)\r\n          }\r\n        </div>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button variant=\"contained\" onClick={() => setDialogOpen(false)}>Cancel</Button>\r\n        <Button variant=\"contained\" style={{ marginLeft: 20 }} color=\"primary\" disabled={!selected} onClick={handleConfirm}>Confirm</Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  )\r\n}","import React from 'react'\r\nimport { SketchPicker } from 'react-color'\r\nimport { TextField, Dialog } from '@material-ui/core'\r\nexport default ({ value, onChange, style, disabled }) => {\r\n  const [isDialogOpen, setDialogOpen] = React.useState(false)\r\n  const handleComplete = e => {\r\n    onChange(e)\r\n    setDialogOpen(false)\r\n  }\r\n  return (\r\n    <>\r\n      <TextField\r\n        type=\"text\"\r\n        variant=\"outlined\"\r\n        value={value}\r\n        style={{ ...style }}\r\n        InputProps={{ inputProps: { style: { padding: '.5rem' } } }}\r\n        onClick={() => disabled ? {} : setDialogOpen(true)}\r\n        onChange={onChange}\r\n        fullWidth\r\n        disabled={disabled}\r\n        InputLabelProps={{\r\n          shrink: true,\r\n        }} />\r\n\r\n      <Dialog\r\n        onClose={() => setDialogOpen(false)}\r\n        open={isDialogOpen}\r\n      >\r\n        <SketchPicker\r\n          color={value}\r\n          onChangeComplete={handleComplete} />\r\n      </Dialog>\r\n    </>\r\n  )\r\n\r\n}","import React from 'react'\r\nimport {\r\n  TextField,\r\n} from '@material-ui/core'\r\nexport default ({ activeLayer }) => {\r\n  return (\r\n    <>\r\n      <div style={{ display: 'flex', marginTop: 20 }}>\r\n        <TextField\r\n          label=\"Left\"\r\n          type=\"text\"\r\n          variant=\"outlined\"\r\n          value={activeLayer.left}\r\n        />\r\n        <TextField\r\n          label=\"Top\"\r\n          type=\"text\"\r\n          variant=\"outlined\"\r\n          style={{ marginLeft: 20 }}\r\n          value={activeLayer.top}\r\n        />\r\n      </div>\r\n      <div style={{ display: 'flex', marginTop: 20 }}>\r\n        <TextField\r\n          label=\"Width\"\r\n          type=\"text\"\r\n          variant=\"outlined\"\r\n          value={activeLayer.width}\r\n        />\r\n        <TextField\r\n          label=\"Height\"\r\n          type=\"text\"\r\n          variant=\"outlined\"\r\n          style={{ marginLeft: 20 }}\r\n          value={activeLayer.height}\r\n        />\r\n      </div>\r\n    </>\r\n  )\r\n}","import React from 'react'\r\nimport {\r\n  TextField,\r\n} from '@material-ui/core'\r\nimport BasicProperties from './Basic'\r\nimport ColorPicker from '../ColorPicker'\r\nexport default ({ layers, setLayers, activeLayer }) => {\r\n  const handleUpdateLayer = (key, value) => {\r\n    const updatedLayers = layers.map(layer => {\r\n      return layer.id === activeLayer.id\r\n        ? { ...layer, data: { ...layer.data, [key]: value } }\r\n        : { ...layer }\r\n    })\r\n    setLayers([...updatedLayers])\r\n  }\r\n  return (\r\n    <div>\r\n      <h2>Text Properties</h2>\r\n      <BasicProperties activeLayer={activeLayer} />\r\n      <h3 style={{ marginTop: 20, marginBottom: 10 }}>Text Content</h3>\r\n      <TextField\r\n        fullWidth\r\n        multiline\r\n        variant=\"outlined\"\r\n        value={activeLayer.data.value}\r\n        onChange={e => handleUpdateLayer('value', e.target.value)}\r\n        minRows={5}\r\n      />\r\n      <h3 style={{ marginTop: 20, marginBottom: 10 }}>Font Properties</h3>\r\n      <div style={{ display: 'flex', alignItems: 'center' }}>\r\n        <span style={{ marginRight: 10 }}>Color:</span>\r\n        <ColorPicker\r\n          value={activeLayer.data.fontColor || '#000000'}\r\n          disabled={activeLayer.data.value.trim().length === 0}\r\n          onChange={color => handleUpdateLayer('fontColor', color.hex)}\r\n        />\r\n        <span style={{ marginLeft: 20, marginRight: 10 }}>Size:</span>\r\n        <TextField\r\n          type=\"number\"\r\n          variant=\"outlined\"\r\n          disabled={activeLayer.data.value.trim().length === 0}\r\n          InputProps={{ inputProps: { style: { padding: '.5rem' } } }}\r\n          value={activeLayer.data.fontSize || 14}\r\n          onChange={e => handleUpdateLayer('fontSize', e.target.value)}\r\n        />\r\n      </div>\r\n      {/* <h3 style={{ marginTop: 20, marginBottom: 10 }}>Background Properties</h3>\r\n      <div style={{ display: 'flex', alignItems: 'center' }}>\r\n        <span style={{ marginRight: 10 }}>Color:</span>\r\n        <ColorPicker\r\n          disabled={activeLayer.data.value.trim().length === 0}\r\n          value={activeLayer.data.backgroundColor || '#f5f5f5'}\r\n          onChange={color => handleUpdateLayer('backgroundColor', color.hex)}\r\n        />\r\n      </div> */}\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\nimport {\r\n  TextField,\r\n  MenuItem,\r\n  Select,\r\n  FormControl,\r\n  InputLabel\r\n} from '@material-ui/core'\r\nimport BasicProperties from './Basic'\r\nimport ColorPicker from '../ColorPicker'\r\nexport default ({ layers, setLayers, activeLayer }) => {\r\n  const handleUpdateLayer = (key, value) => {\r\n    const updatedLayers = layers.map(layer => {\r\n      return layer.id === activeLayer.id\r\n        ? { ...layer, data: { ...layer.data, [key]: value } }\r\n        : { ...layer }\r\n    })\r\n    setLayers([...updatedLayers])\r\n  }\r\n  return (\r\n    <div>\r\n      <h2>Time Properties</h2>\r\n      <BasicProperties activeLayer={activeLayer} />\r\n      <h3 style={{ marginTop: 20, marginBottom: 10 }}>Format</h3>\r\n      <FormControl variant=\"outlined\" fullWidth >\r\n        <Select\r\n          value={activeLayer.data.value}\r\n          onChange={e => handleUpdateLayer('value', e.target.value)}\r\n          displayEmpty\r\n        >\r\n          <MenuItem value={''}>Empty</MenuItem>\r\n          <MenuItem value={'YYYY/MM/DD HH:mm:ss'}>YYYY/MM/DD HH:mm:ss</MenuItem>\r\n          <MenuItem value={'YYYY/MM/DD hh:mm:ss a'}>YYYY/MM/DD hh:mm:ss a</MenuItem>\r\n          <MenuItem value={'HH:mm:ss'}>HH:mm:ss</MenuItem>\r\n          <MenuItem value={'hh:mm:ss a'}>hh:mm:ss a</MenuItem>\r\n        </Select>\r\n      </FormControl>\r\n      <h3 style={{ marginTop: 20, marginBottom: 10 }}>Font Properties</h3>\r\n      <div style={{ display: 'flex', alignItems: 'center' }}>\r\n        <span style={{ marginRight: 10 }}>Color:</span>\r\n        <ColorPicker\r\n          value={activeLayer.data.fontColor || '#000000'}\r\n          disabled={activeLayer.data.value.trim().length === 0}\r\n          onChange={color => handleUpdateLayer('fontColor', color.hex)}\r\n        />\r\n        <span style={{ marginLeft: 20, marginRight: 10 }}>Size:</span>\r\n        <TextField\r\n          type=\"number\"\r\n          variant=\"outlined\"\r\n          disabled={activeLayer.data.value.trim().length === 0}\r\n          InputProps={{ inputProps: { style: { padding: '.5rem' } } }}\r\n          value={activeLayer.data.fontSize || 14}\r\n          onChange={e => handleUpdateLayer('fontSize', e.target.value)}\r\n        />\r\n      </div>\r\n      {/* <h3 style={{ marginTop: 20, marginBottom: 10 }}>Background Properties</h3>\r\n      <div style={{ display: 'flex', alignItems: 'center' }}>\r\n        <span style={{ marginRight: 10 }}>Color:</span>\r\n        <ColorPicker\r\n          value={activeLayer.data.backgroundColor || '#f5f5f5'}\r\n          disabled={activeLayer.data.value.trim().length === 0}\r\n          onChange={color => handleUpdateLayer('backgroundColor', color.hex)}\r\n        />\r\n      </div> */}\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\nimport {\r\n  TextField,\r\n  Button,\r\n  Radio,\r\n  RadioGroup,\r\n  FormControlLabel\r\n} from '@material-ui/core'\r\nimport MediaLibrary from './MediaLibrary'\r\nimport { media } from '../medias'\r\nimport ColorPicker from './ColorPicker'\r\nimport TextProperties from './properties/Text'\r\nimport TimeProperties from './properties/Time'\r\nconst BasicProperties = ({ activeLayer }) => {\r\n  return (\r\n    <>\r\n      <div style={{ display: 'flex', marginTop: 20 }}>\r\n        <TextField\r\n          label=\"Left\"\r\n          type=\"text\"\r\n          variant=\"outlined\"\r\n          value={activeLayer.left}\r\n        />\r\n        <TextField\r\n          label=\"Top\"\r\n          type=\"text\"\r\n          variant=\"outlined\"\r\n          style={{ marginLeft: 20 }}\r\n          value={activeLayer.top}\r\n        />\r\n      </div>\r\n      <div style={{ display: 'flex', marginTop: 20 }}>\r\n        <TextField\r\n          label=\"Width\"\r\n          type=\"text\"\r\n          variant=\"outlined\"\r\n          value={activeLayer.width}\r\n        />\r\n        <TextField\r\n          label=\"Height\"\r\n          type=\"text\"\r\n          variant=\"outlined\"\r\n          style={{ marginLeft: 20 }}\r\n          value={activeLayer.height}\r\n        />\r\n      </div>\r\n    </>\r\n  )\r\n}\r\nconst ImageProperties = ({ layers, setLayers, activeLayer }) => {\r\n  const [isDialogOpen, setDialogOpen] = React.useState(false)\r\n  const insertImageFromLibrary = id => {\r\n    // media('image', activeLayer.data.id).name\r\n    const updatedLayers = layers.map(layer => {\r\n      return layer.id === activeLayer.id\r\n        ? {\r\n          ...layer,\r\n          width: media('image', id).width,\r\n          height: media('image', id).height,\r\n          data: { ...layer.data, id }\r\n        }\r\n        : { ...layer }\r\n    })\r\n    setLayers([...updatedLayers])\r\n  }\r\n  return (\r\n    <div>\r\n      <h2>Image Properties</h2>\r\n      <BasicProperties activeLayer={activeLayer} />\r\n      <Button variant=\"contained\" style={{ marginTop: 20 }} color=\"primary\" onClick={() => setDialogOpen(true)}>Open Media Libaray</Button>\r\n      {\r\n        activeLayer.data.id !== 0 && <div style={{\r\n          marginTop: 20,\r\n          display: 'flex'\r\n        }}>\r\n          <img\r\n            style={{\r\n              maxHeight: 100\r\n            }}\r\n            alt=\"Contemplative Reptile\"\r\n            src={`./assets/images/${activeLayer.data.id}.jpg`}\r\n            title=\"Contemplative Reptile\"\r\n          />\r\n          <div style={{ marginLeft: 20 }}>\r\n            <h3 style={{ marginTop: 10 }}>{`Name: ${media('image', activeLayer.data.id).name}`}</h3>\r\n            <h3 style={{ marginTop: 10 }}>{`Size: ${media('image', activeLayer.data.id).size}`}</h3>\r\n            <h3 style={{ marginTop: 10 }}>{`Type: ${media('image', activeLayer.data.id).type}`}</h3>\r\n          </div>\r\n        </div>\r\n      }\r\n      <MediaLibrary\r\n        type=\"image\"\r\n        isDialogOpen={isDialogOpen}\r\n        setDialogOpen={setDialogOpen}\r\n        confirm={id => insertImageFromLibrary(id)}\r\n      />\r\n    </div>\r\n  )\r\n}\r\nconst VideoProperties = ({ layers, setLayers, activeLayer }) => {\r\n  const [isDialogOpen, setDialogOpen] = React.useState(false)\r\n  const insertVideoFromLibrary = id => {\r\n    const updatedLayers = layers.map(layer => {\r\n      return layer.id === activeLayer.id\r\n        ? {\r\n          ...layer,\r\n          width: media('video', id).width,\r\n          height: media('video', id).height,\r\n          data: { ...layer.data, id }\r\n        }\r\n        : { ...layer }\r\n    })\r\n    setLayers([...updatedLayers])\r\n  }\r\n  return (\r\n    <div>\r\n      <h2>Video Properties</h2>\r\n      <BasicProperties activeLayer={activeLayer} />\r\n      <Button variant=\"contained\" style={{ marginTop: 20 }} color=\"primary\" onClick={() => setDialogOpen(true)}>Open Media Libaray</Button>\r\n      {\r\n        activeLayer.data.id !== 0 && <div style={{\r\n          marginTop: 20,\r\n          display: 'flex'\r\n        }}>\r\n          <img\r\n            style={{\r\n              maxHeight: 100\r\n            }}\r\n            alt=\"Contemplative Reptile\"\r\n            src={`./assets/previews/${activeLayer.data.id}.jpg`}\r\n            title=\"Contemplative Reptile\"\r\n          />\r\n          <div style={{ marginLeft: 20 }}>\r\n            <h3 style={{ marginTop: 10 }}>{`Name: ${media('video', activeLayer.data.id).name}`}</h3>\r\n            <h3 style={{ marginTop: 10 }}>{`Size: ${media('video', activeLayer.data.id).size}`}</h3>\r\n            <h3 style={{ marginTop: 10 }}>{`Type: ${media('video', activeLayer.data.id).type}`}</h3>\r\n          </div>\r\n        </div>\r\n      }\r\n      <MediaLibrary\r\n        type=\"video\"\r\n        isDialogOpen={isDialogOpen}\r\n        setDialogOpen={setDialogOpen}\r\n        confirm={id => insertVideoFromLibrary(id)}\r\n      />\r\n    </div>\r\n  )\r\n}\r\nconst BoardProperties = ({ board, setBoard }) => {\r\n  const [isDialogOpen, setDialogOpen] = React.useState(false)\r\n\r\n  return (\r\n    <div>\r\n      <h2>Board Properties</h2>\r\n      <h3 style={{ margin: '16px 0' }}>{`Width: ${Math.floor(board.width)}`}</h3>\r\n      <h3 style={{ margin: '16px 0' }}>{`Height: ${Math.floor(board.height)}`}</h3>\r\n      <h3 style={{ marginTop: 16, marginBottom: 8 }}>Background: </h3>\r\n      <RadioGroup row aria-label=\"gender\" name=\"gender1\" value={board.background.type} onChange={e => setBoard({\r\n        ...board,\r\n        background: {\r\n          ...board.background,\r\n          type: e.target.value\r\n        }\r\n      })}>\r\n        <FormControlLabel value=\"color\" control={<Radio color=\"primary\" />} label=\"color\" />\r\n        <FormControlLabel value=\"image\" control={<Radio color=\"primary\" />} label=\"image\" />\r\n      </RadioGroup>\r\n      {\r\n        board.background.type === 'color'\r\n          ?\r\n          <ColorPicker\r\n            value={board.background.color}\r\n            onChange={color => setBoard({\r\n              ...board,\r\n              background: {\r\n                ...board.background,\r\n                color: color.hex\r\n              }\r\n            })}\r\n          />\r\n          :\r\n          <Button variant=\"contained\" color=\"primary\" onClick={() => setDialogOpen(true)}>Open Media Libaray</Button>\r\n      }\r\n      {\r\n        (board.background.type === 'image' && board.background.imageId !== 0) && <div style={{\r\n          marginTop: 20,\r\n          display: 'flex'\r\n        }}>\r\n          <img\r\n            style={{\r\n              maxHeight: 100\r\n            }}\r\n            alt=\"Contemplative Reptile\"\r\n            src={`./assets/images/${board.background.imageId}.jpg`}\r\n            title=\"Contemplative Reptile\"\r\n          />\r\n          <div style={{ marginLeft: 20 }}>\r\n            <h3 style={{ marginTop: 10 }}>{`Name: ${media('image', board.background.imageId).name}`}</h3>\r\n            <h3 style={{ marginTop: 10 }}>{`Size: ${media('image', board.background.imageId).size}`}</h3>\r\n            <h3 style={{ marginTop: 10 }}>{`Type: ${media('image', board.background.imageId).type}`}</h3>\r\n          </div>\r\n        </div>\r\n      }\r\n      <MediaLibrary\r\n        type=\"image\"\r\n        isDialogOpen={isDialogOpen}\r\n        setDialogOpen={setDialogOpen}\r\n        confirm={id => setBoard({\r\n          ...board,\r\n          background: {\r\n            ...board.background,\r\n            imageId: id\r\n          }\r\n        })}\r\n      />\r\n    </div>\r\n  )\r\n}\r\nexport default ({ layers, setLayers, activeLayerID, board, setBoard }) => {\r\n  const activeLayer = layers.find(layer => layer.id === activeLayerID) || {}\r\n  return (\r\n    <div style={{\r\n      width: 380,\r\n      height: 'calc(100vh - 80px)',\r\n      backgroundColor: '#f1f3f7',\r\n      padding: 20\r\n    }}>\r\n      {\r\n        activeLayer.data ? {\r\n          'image': <ImageProperties activeLayer={activeLayer} layers={layers} setLayers={setLayers} />,\r\n          'video': <VideoProperties activeLayer={activeLayer} layers={layers} setLayers={setLayers} />,\r\n          'text': <TextProperties activeLayer={activeLayer} layers={layers} setLayers={setLayers} />,\r\n          'time': <TimeProperties activeLayer={activeLayer} layers={layers} setLayers={setLayers} />,\r\n        }[activeLayer.data.type]\r\n          : <BoardProperties board={board} setBoard={setBoard} />\r\n      }\r\n\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\nexport default ({ layer }) => {\r\n  const zoom = 1.5\r\n  return (\r\n    <div\r\n      style={{\r\n        width: layer.width * zoom,\r\n        height: layer.height * zoom,\r\n        wordWrap: 'break-word',\r\n        overflow: 'hidden',\r\n        color: layer.data.fontColor ? layer.data.fontColor : undefined,\r\n        backgroundColor: layer.data.backgroundColor ? layer.data.backgroundColor : undefined,\r\n        fontSize: layer.data.fontSize ? layer.data.fontSize * zoom + 'px' : 14 * zoom\r\n      }}\r\n    >\r\n      {layer.data.value}\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\nimport moment from 'moment'\r\nexport default ({ layer }) => {\r\n  const zoom = 1.5\r\n  const [clock, setClock] = React.useState(moment().format(layer.data.value))\r\n  React.useEffect(() => {\r\n    let timeout = null\r\n    setClock(moment().format(layer.data.value))\r\n    timeout = setInterval(() => setClock(moment().format(layer.data.value)), 1000)\r\n    return () => clearInterval(timeout)\r\n  }, [])\r\n  return (\r\n    <div\r\n      style={{\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        width: layer.width * zoom,\r\n        height: layer.height * zoom,\r\n        color: layer.data.fontColor ? layer.data.fontColor : undefined,\r\n        backgroundColor: layer.data.backgroundColor ? layer.data.backgroundColor : undefined,\r\n        fontSize: layer.data.fontSize ? layer.data.fontSize * zoom + 'px' : 14 * zoom\r\n      }}\r\n    >\r\n      {clock}\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\nimport {\r\n  Dialog,\r\n  IconButton\r\n} from '@material-ui/core'\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport TextPlayer from './player/Text'\r\nimport TimePlayer from './player/Time'\r\nconst VideoLayer = ({ layer }) => {\r\n  const zoom = 1.5\r\n  return (\r\n    <video width={layer.width * zoom} height={layer.height * zoom} autoPlay>\r\n      <source src={`./assets/videos/${layer.data.id}.mp4`} type=\"video/mp4\" />\r\n    </video>\r\n  )\r\n}\r\nconst ImageLayer = ({ layer }) => {\r\n  const zoom = 1.5\r\n  return (\r\n    <img\r\n      src={`./assets/images/${layer.data.id}.jpg`}\r\n      style={{\r\n        width: layer.width * zoom,\r\n        height: layer.height * zoom,\r\n      }}\r\n    />\r\n  )\r\n}\r\nconst Layer = ({ layer }) => {\r\n  const zoom = 1.5\r\n  return (\r\n    <div style={{\r\n      position: 'absolute',\r\n      width: layer.width * zoom,\r\n      height: layer.height * zoom,\r\n      top: layer.top * zoom,\r\n      left: layer.left * zoom,\r\n    }}>\r\n      {{\r\n        'image': <ImageLayer layer={layer} />,\r\n        'video': <VideoLayer layer={layer} />,\r\n        'text': <TextPlayer layer={layer} />,\r\n        'time': <TimePlayer layer={layer} />\r\n      }[layer.data.type]}\r\n    </div>\r\n  )\r\n}\r\nexport default ({ isDialogOpen, setDialogOpen, layers, board }) => {\r\n  return (\r\n    <Dialog\r\n      open={isDialogOpen}\r\n      onClose={() => setDialogOpen(false)}\r\n      fullScreen\r\n    >\r\n      <div\r\n        style={{\r\n          width: '100%',\r\n          height: '100%',\r\n          position: 'relative',\r\n          background: board.background.type === 'color'\r\n            ? board.background.color\r\n            : board.background.imageId === 0\r\n              ? board.background.color\r\n              : `no-repeat center/100% url(./assets/images/${board.background.imageId}.jpg)`\r\n        }}>\r\n        {\r\n          layers.map(layer => <Layer key={layer.id} layer={layer} />)\r\n        }\r\n        <IconButton onClick={() => setDialogOpen(false)} >\r\n          <CloseIcon />\r\n        </IconButton>\r\n      </div>\r\n    </Dialog>\r\n  )\r\n}","import React from 'react'\r\nimport {\r\n  Button,\r\n} from '@material-ui/core'\r\nimport Player from './Player'\r\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\r\nexport default ({ layers, board }) => {\r\n  const [isDialogOpen, setDialogOpen] = React.useState(false)\r\n  return (\r\n    <div style={{\r\n      height: 80,\r\n      backgroundColor: '#f1f3f7',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      padding: '0 20px'\r\n    }}>\r\n      <h1>Content Editor</h1>\r\n      <a href=\"https://github.com/MuJungHo/web-signage\" style={{ marginLeft: 20 }}>\r\n        <img src=\"./assets/github.png\" style={{ width: 21, height: 21 }} />\r\n      </a>\r\n      <div style={{ flex: 1 }}></div>\r\n      <Button variant=\"contained\" color=\"primary\" onClick={() => setDialogOpen(true)}><PlayArrowIcon />Play</Button>\r\n      <Player isDialogOpen={isDialogOpen} setDialogOpen={setDialogOpen} layers={layers} board={board} />\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\nimport Board from './components/Board'\r\nimport ActionBar from './components/ActionBar'\r\nimport ToolBar from './components/ToolBar'\r\nimport ControlPanel from './components/ControlPanel'\r\nimport Header from './components/Header'\r\nimport moment from 'moment'\r\n\r\nexport default () => {\r\n  const [layers, setLayers] = React.useState([\r\n    // {\r\n    //   id: 1,\r\n    //   width: 115,\r\n    //   height: 80,\r\n    //   top: 20,\r\n    //   left: 30,\r\n    //   data: {\r\n    //     type: 'text',\r\n    //     id: 0,\r\n    //     value: 'Hello World!',\r\n    //     backgroundColor: '#000000',\r\n    //     fontColor: '#ffffff',\r\n    //     fontSize: 20,\r\n\r\n    //   }\r\n    // },\r\n    // {\r\n    //   id: 2,\r\n    //   width: 100,\r\n    //   height: 100,\r\n    //   top: 80,\r\n    //   left: 200,\r\n    //   data: {\r\n    //     type: 'time',\r\n    //     id: 0,\r\n    //     value: 'YYYY/MM/DD HH:mm:ss',\r\n    //     backgroundColor: '#000000',\r\n    //     fontColor: '#ffffff',\r\n    //     fontSize: 20,\r\n    //   }\r\n    // },\r\n  ])\r\n  const [activeLayerID, setActiveLayerID] = React.useState()\r\n  const [board, setBoard] = React.useState({\r\n    width: window.innerWidth / 1.5,\r\n    height: window.innerHeight / 1.5,\r\n    background: {\r\n      type: 'color',\r\n      color: '#f5f5f5',\r\n      imageId: 0\r\n    }\r\n  })\r\n  const handleAddLayer = type => {\r\n    const id = moment().unix()\r\n    setLayers([\r\n      ...layers,\r\n      {\r\n        id,\r\n        width: 100,\r\n        height: 100,\r\n        top: 0,\r\n        left: 0,\r\n        data: {\r\n          type,\r\n          id: 0,\r\n          value: ''\r\n        }\r\n      }])\r\n    setActiveLayerID(id)\r\n  }\r\n  return (\r\n    <div style={{\r\n      width: '100%',\r\n      height: '100vh',\r\n      backgroundColor: 'rgba(0, 0, 0, 0.13)'\r\n    }}>\r\n      <Header\r\n        layers={layers}\r\n        board={board} />\r\n      <div style={{\r\n        width: '100%',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n      }}>\r\n        <ToolBar addLayer={handleAddLayer} />\r\n        <div style={{ flex: 1, padding: 20, display: 'flex', flexDirection: 'column', alignItems: 'center', height: 'calc(100vh - 80px)' }}>\r\n          <ActionBar\r\n            layers={layers}\r\n            setLayers={setLayers}\r\n            activeLayerID={activeLayerID}\r\n            setActiveLayerID={setActiveLayerID}\r\n          />\r\n          <div style={{ height: '100%', display: 'flex', alignItems: 'center', }}>\r\n            <Board\r\n              board={board}\r\n              layers={layers}\r\n              setLayers={setLayers}\r\n              activeLayerID={activeLayerID}\r\n              setActiveLayerID={setActiveLayerID}\r\n            />\r\n          </div>\r\n        </div>\r\n        <ControlPanel\r\n          board={board}\r\n          setBoard={setBoard}\r\n          layers={layers}\r\n          setLayers={setLayers}\r\n          activeLayerID={activeLayerID}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\nimport Editor from \"./Editor\"\r\nimport \"./style/normalize.css\"\r\n\r\nconst App = () => (\r\n  <Editor />\r\n)\r\n\r\nexport default App\r\n","import 'react-app-polyfill/ie11'\r\nimport React from 'react'\r\nimport { render } from 'react-dom'\r\nimport App from './App'\r\n\r\nrender(<App />,document.getElementById('root'))\r\n"],"sourceRoot":""}